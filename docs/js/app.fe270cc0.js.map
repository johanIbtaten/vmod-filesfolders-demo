{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/crm_stuff.js","webpack:///./src/Folder/FolderList/FolderItemLink.vue?7947","webpack:///./src/CampaignFolder/CampaignFolder.vue?a1f1","webpack:///./src/Folder/FolderList/FolderList.vue?95c7","webpack:///./src/Folder/FolderContent/FileList.vue?267d","webpack:///./src/Backend.js","webpack:///./src/CampaignFolder/CampaignFolder.vue?c04b","webpack:///./src/Folder/FolderContent/FileList.vue?4533","webpack:///src/Folder/FolderContent/FileList.vue","webpack:///./src/Folder/FolderContent/FileList.vue?82b1","webpack:///./src/Folder/FolderContent/FileList.vue?ec7c","webpack:///./src/Folder/FolderMain.vue?0255","webpack:///./src/Folder/FolderList/FolderList.vue?81b1","webpack:///./src/Folder/FolderList/FolderItem.vue?818c","webpack:///./src/Folder/FolderList/FolderItemLink.vue?69e0","webpack:///src/Folder/FolderList/FolderItemLink.vue","webpack:///./src/Folder/FolderList/FolderItemLink.vue?03f7","webpack:///./src/Folder/FolderList/FolderItemLink.vue?7c2b","webpack:///src/Folder/FolderList/FolderItem.vue","webpack:///./src/Folder/FolderList/FolderItem.vue?eb78","webpack:///./src/Folder/FolderList/FolderItem.vue?9594","webpack:///src/Folder/FolderList/FolderList.vue","webpack:///./src/Folder/FolderList/FolderList.vue?5555","webpack:///./src/Folder/FolderList/FolderList.vue?024e","webpack:///src/Folder/FolderMain.vue","webpack:///./src/Folder/FolderMain.vue?4c51","webpack:///./src/Folder/FolderMain.vue?b54f","webpack:///src/CampaignFolder/CampaignFolder.vue","webpack:///./src/CampaignFolder/CampaignFolder.vue?757c","webpack:///./src/CampaignFolder/CampaignFolder.vue?1be1","webpack:///./src/main.js","webpack:///./src/Folder/FolderList/FolderItem.vue?b769","webpack:///./src/Folder/FolderMain.vue?9472"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","__","txt","app","ui","confirm","msg","Promise","resolve","response","error","alert","String","success","str","z","document","createElement","innerHTML","body","appendChild","setTimeout","parentNode","removeChild","prompt","title","rep","uuid","Math","random","toString","createFolder","console","log","message","folder","id","items","saveFoldersPosition","folders","map","updateFolderContent","toFolderId","fileId","renameFolder","folderUpdated","deleteFolder","folderId","load","status","created_at","date_scheduled","date_sent","recipient_count","opened_count","clicked_count","sending_list","total_customer","routes","edit","reporting","_vm","this","_h","$createElement","_c","_self","class","loading","attrs","scopedSlots","_u","fn","staticClass","_v","_s","proxy","ref","filteredFiles","selectedFolder","_l","statusItem","index","campaignWithStatus","_e","file","_f","staticRenderFns","list","directives","rawName","expression","_t","_b","on","onStart","onEnd","model","callback","$$v","dragFiles","dragFilesOptions","refInFor","classifiedIn","props","components","draggable","computed","set","animation","group","put","pull","sort","revertOnSpill","onSpill","evt","item","handle","chosenClass","dragClass","ghostClass","forceFallback","methods","$root","$emit","component","isDragFile","all","unclassified","files","unclassifiedCount","$event","isCogOpen","folderName","searchFilesPlaceholder","domProps","target","composing","search","filteredSearchFiles","preventDefault","handleFixedFolderClick","allCount","filteredFolder","dragFoldersOptions","isDraggable","handleFolderClick","active","isActive","changeFolder","foldercontent","dropFileZoneOptions","folderCount","FolderItemLink","event","added","toFolder","element","payload","FolderItem","filter","FolderList","unclassifiedFiles","includes","isClassified","isCog","handleGetFolderContent","handleStartDragFile","handleEndDragFile","created","$on","FileList","FolderMain","statusList","handleCreateFolder","$store","dispatch","then","handleRenameFolder","handleDeleteFolder","handleFolderMove","handleFileDropped","Vue","use","Vuex","mixin","string","config","productionTip","dateFormated","Date","options","year","month","day","toLocaleDateString","store","getStore","state","el","getters","getUnclassified","res","mutations","add_folder","delete_folder","findIndex","actions","commit","Backend","debounce","leading","updateFolderOrder","indexOf","Store","render","h","CampaignFolder","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,2BAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,0ECpJTsC,OAAOG,GAAK,SAASC,GACnB,OAAOA,GAMTJ,OAAOK,IAAM,CACXC,GAAI,CAYFC,QAZE,SAYMC,GACN,OAAO,IAAIC,SAAQ,SAAAC,GACjB,IAAIC,EAAWX,OAAOO,QAAQC,GAC1BG,GACFD,QAINE,MApBE,SAoBIJ,GACJK,MAAM,UAAYC,OAAON,KAG3BO,QAxBE,WA0BA,IAAIC,EAAM,8JAGNC,EAAIC,SAASC,cAAc,OAC/BF,EAAEG,UAAYJ,EACdE,SAASG,KAAKC,YAAYL,GAC1BjB,OAAOuB,YAAW,WAChBN,EAAEO,WAAWC,YAAYR,KAMxB,MAELS,OAzCE,SAyCKC,EAAOxC,GACZ,OAAO,IAAIsB,SAAQ,SAAAC,GACjB,IAAIkB,EAAM5B,OAAO0B,OAAOC,EAAOxC,GAC3ByC,GACFlB,EAAQkB,U,oCCxDlB,yBAAgkB,EAAG,G,oCCAnkB,yBAA2iB,EAAG,G,oCCA9iB,yBAA4jB,EAAG,G,gFCA/jB,yBAAkiB,EAAG,G,4RCAriB,SAASC,IACP,OAAOC,KAAKC,SACTC,SAAS,IACT9B,MAAM,GAKX,SAAS+B,EAAavD,GACpB,OAAO,IAAI+B,SAAQ,SAAAC,GAEjBa,YAAW,WAETW,QAAQC,IAAI,uBAAwB,CAAEzD,SAItCgC,EAAQ,CACNK,SAAS,EACTqB,QAAS,CAAEC,OAAQ,CAAEC,GAAIT,IAAQnD,OAAM6D,MAAO,SAE/C,QAIP,SAASC,EAAoBC,GAC3B,OAAO,IAAIhC,SAAQ,SAAAC,GAEjBwB,QAAQC,IACN,oBACAM,EAAQC,KAAI,SAAAL,GAAM,OAAIA,EAAOC,OAG/B5B,EAAQ,CACNK,SAAS,EACTqB,QAAS,UAKf,SAASO,EAAT,GAAqD,IAAtBC,EAAsB,EAAtBA,WAAYC,EAAU,EAAVA,OACzC,OAAO,IAAIpC,SAAQ,SAAAC,GACjBa,YAAW,WAETW,QAAQC,IAAI,kCAAmC,CAC7CG,GAAIM,EACJC,OAAQA,IAGVnC,EAAQ,CACNK,SAAS,EACTqB,QAAS,SAEV,QAIP,SAASU,EAAaC,GACpB,OAAO,IAAItC,SAAQ,SAAAC,GACjBa,YAAW,WAETW,QAAQC,IAAI,0BAA2B,CACrCG,GAAIS,EAAcT,GAClB5D,KAAMqE,EAAcrE,OAGtBgC,EAAQ,CACNK,SAAS,EACTqB,QAAS,SAEV,QAIP,SAASY,EAAaC,GACpB,OAAO,IAAIxC,SAAQ,SAAAC,GACjBa,YAAW,WAETW,QAAQC,IAAI,0BAA2Bc,GAEvCvC,EAAQ,CACNK,SAAS,EACTqB,QAAS,SAEV,QA+FP,SAASc,IACP,OAAO,IAAIzC,SAAQ,SAAAC,GACjB,IAAIC,EAAW,CACbI,SAAS,EACTqB,QAAS,CACPK,QAAS,CACP,CACEH,GAAI,EACJ5D,KAAM,eACN6D,MAAO,IAET,CACED,GAAI,EACJ5D,KAAM,eACN6D,MAAO,IAET,CACED,GAAI,EACJ5D,KAAM,iBACN6D,MAAO,IAET,CACED,GAAI,EACJ5D,KAAM,qBACN6D,MAAO,KAGXA,MAAO,CACL,CACED,GAAI,EACJ5D,KACE,yFACFyE,OAAQ,QACRC,WAAY,sBACZC,eAAgB,sBAChBC,UAAW,sBACXC,gBAAiB,sBACjBC,aAAc,sBACdC,cAAe,sBACfC,aAAc,CACZ,CACEhF,KAAM,gBACNiF,eAAgB,OAGpBC,OAAQ,CACNC,KAAM,YACNC,UAAW,mBAGf,CACExB,GAAI,EACJ5D,KAAM,SACNyE,OAAQ,UACRC,WAAY,sBACZC,eAAgB,sBAChBC,UAAW,sBACXC,gBAAiB,sBACjBC,aAAc,sBACdC,cAAe,sBACfC,aAAc,CACZ,CACEhF,KAAM,uBACNiF,eAAgB,OAGpBC,OAAQ,CACNC,KAAM,YACNC,UAAW,mBAGf,CACExB,GAAI,EACJ5D,KAAM,sBACNyE,OAAQ,OACRC,WAAY,sBACZC,eAAgB,sBAChBC,UAAW,sBACXC,gBAAiB,sBACjBC,aAAc,sBACdC,cAAe,sBACfC,aAAc,CACZ,CACEhF,KAAM,uBACNiF,eAAgB,MAElB,CACEjF,KAAM,eACNiF,eAAgB,OAGpBC,OAAQ,CACNC,KAAM,YACNC,UAAW,mBAGf,CACExB,GAAI,EACJ5D,KAAM,iBACNyE,OAAQ,OACRC,WAAY,sBACZC,eAAgB,sBAChBC,UAAW,sBACXC,gBAAiB,sBACjBC,aAAc,sBACdC,cAAe,sBACfC,aAAc,CACZ,CACEhF,KAAM,uBACNiF,eAAgB,OAGpBC,OAAQ,CACNC,KAAM,YACNC,UAAW,sBAOrBpD,EAAQC,MAIG,OACbuC,OACAjB,eACAO,sBACAG,sBACAG,eACAE,gBCtTE,EAAS,WAAa,IAAIe,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAE,gBAAiBN,EAAIO,UAAW,CAACH,EAAG,aAAa,CAACI,MAAM,CAAC,QAAUR,EAAItB,QAAQ,MAAQsB,EAAIxB,MAAM,IAAMwB,EAAI5D,GAAG,qBAAqB,aAAe4D,EAAI5D,GAAG,4BAA4B,uBAAyB4D,EAAI5D,GAAG,iCAAiCqE,YAAYT,EAAIU,GAAG,CAAC,CAAChF,IAAI,OAAOiF,GAAG,WAAW,MAAO,CAACP,EAAG,IAAI,CAACQ,YAAY,eAAeJ,MAAM,CAAC,KAAO,MAAM,CAACR,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAI5D,GAAG,qBAAqB,KAAKgE,EAAG,IAAI,CAACQ,YAAY,yBAAyBG,OAAM,GAAM,CAACrF,IAAI,UAAUiF,GAAG,SAASK,GAC7lB,IAAIC,EAAgBD,EAAIC,cACpBC,EAAiBF,EAAIE,eACzB,OAAOlB,EAAImB,GAAInB,EAAc,YAAE,SAASoB,EAAWC,GAAO,OAAOjB,EAAG,MAAM,CAAC1E,IAAI2F,GAAO,CAACjB,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGM,EAAWxD,UAAUwC,EAAG,WAAW,CAACI,MAAM,CAAC,KAAOR,EAAIsB,mBAAmBL,EAAeG,EAAWhC,QAAQ,eAAiB8B,GAAgBT,YAAYT,EAAIU,GAAG,CAAC,CAAChF,IAAI,cAAciF,GAAG,WAAW,MAAO,CAAwB,UAAtBS,EAAWhC,OAAoB,CAACgB,EAAG,KAAK,CAACJ,EAAIa,GAAG,SAAST,EAAG,KAAK,CAACJ,EAAIa,GAAG,YAAYT,EAAG,KAAK,CAACJ,EAAIa,GAAG,eAAeT,EAAG,KAAK,CAACJ,EAAIa,GAAG,YAAYT,EAAG,KAAK,CAACJ,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACJ,EAAIa,GAAG,SAASb,EAAIuB,KAA4B,SAAtBH,EAAWhC,OAAmB,CAACgB,EAAG,KAAK,CAACJ,EAAIa,GAAG,SAAST,EAAG,KAAK,CAACJ,EAAIa,GAAG,kBAAkBT,EAAG,KAAK,CAACJ,EAAIa,GAAG,YAAYT,EAAG,KAAK,CAACJ,EAAIa,GAAG,eAAeT,EAAG,KAAK,CAACJ,EAAIa,GAAG,YAAYT,EAAG,KAAK,CAACJ,EAAIa,GAAG,SAASb,EAAIuB,KAA4B,YAAtBH,EAAWhC,OAAsB,CAACgB,EAAG,KAAK,CAACJ,EAAIa,GAAG,SAAST,EAAG,KAAK,CAACJ,EAAIa,GAAG,YAAYT,EAAG,KAAK,CAACJ,EAAIa,GAAG,YAAYT,EAAG,KAAK,CAACJ,EAAIa,GAAG,SAASb,EAAIuB,OAAOR,OAAM,GAAM,CAACrF,IAAI,OAAOiF,GAAG,SAASK,GACl5B,IAAIQ,EAAOR,EAAIQ,KACf,MAAO,CAAwB,UAAtBJ,EAAWhC,OAAoB,CAACgB,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAK7G,WAAWyF,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAKpC,WAAWgB,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAIyB,GAAG,aAAPzB,CAAqBwB,EAAK/B,kBAAkBW,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAKjD,OAAO6B,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAKjD,OAAO6B,EAAG,KAAK,CAACA,EAAG,MAAM,CAACQ,YAAY,yBAAyB,CAACR,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACR,EAAG,SAAS,CAACQ,YAAY,0BAA0B,CAACR,EAAG,IAAI,CAACQ,YAAY,wBAAwBR,EAAG,SAAS,CAACQ,YAAY,qBAAqB,CAACZ,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAI5D,GAAG,aAAa,KAAKgE,EAAG,IAAI,CAACQ,YAAY,qCAAqCZ,EAAIuB,KAA4B,SAAtBH,EAAWhC,OAAmB,CAACgB,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAK7G,WAAWyF,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAK7B,aAAa,GAAGC,mBAAmBQ,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAKpC,WAAWgB,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAIyB,GAAG,aAAPzB,CAAqBwB,EAAK/B,kBAAkBW,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAKjD,OAAO6B,EAAG,KAAK,CAACA,EAAG,MAAM,CAACQ,YAAY,yBAAyB,CAACR,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACR,EAAG,SAAS,CAACQ,YAAY,0BAA0B,CAACR,EAAG,IAAI,CAACQ,YAAY,wBAAwBR,EAAG,SAAS,CAACQ,YAAY,qBAAqB,CAACZ,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAI5D,GAAG,aAAa,KAAKgE,EAAG,IAAI,CAACQ,YAAY,qCAAqCZ,EAAIuB,KAA4B,YAAtBH,EAAWhC,OAAsB,CAACgB,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAK7G,WAAWyF,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAKpC,WAAWgB,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGU,EAAKjD,OAAO6B,EAAG,KAAK,CAACA,EAAG,MAAM,CAACQ,YAAY,yBAAyB,CAACR,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACR,EAAG,SAAS,CAACQ,YAAY,0BAA0B,CAACR,EAAG,IAAI,CAACQ,YAAY,wBAAwBR,EAAG,SAAS,CAACQ,YAAY,qBAAqB,CAACZ,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAI5D,GAAG,YAAY,KAAKgE,EAAG,IAAI,CAACQ,YAAY,qCAAqCZ,EAAIuB,SAAS,MAAK,MAAS,aAAY,IAClvDG,EAAkB,G,YCNlB,EAAS,WAAa,IAAI1B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAI2B,KAAK5I,OAAS,EAAGqH,EAAG,QAAQ,CAACQ,YAAY,sBAAsB,CAACR,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,MAAMA,EAAG,KAAK,CAACwB,WAAW,CAAC,CAACjH,KAAK,OAAOkH,QAAQ,SAASzG,MAA8B,QAAvB4E,EAAIkB,eAA0BY,WAAW,8BAA8B,CAAC9B,EAAIa,GAAGb,EAAIc,GAAGd,EAAI5D,GAAG,oBAAoB4D,EAAI+B,GAAG,gBAAgB,KAAK3B,EAAG,YAAYJ,EAAIgC,GAAG,CAACxB,MAAM,CAAC,IAAM,SAASyB,GAAG,CAAC,MAAQjC,EAAIkC,QAAQ,IAAMlC,EAAImC,OAAOC,MAAM,CAAChH,MAAO4E,EAAa,UAAEqC,SAAS,SAAUC,GAAMtC,EAAIuC,UAAUD,GAAKR,WAAW,cAAc,YAAY9B,EAAIwC,kBAAiB,GAAOxC,EAAImB,GAAInB,EAAQ,MAAE,SAASwB,GAAM,OAAOpB,EAAG,KAAK,CAAC1E,IAAI8F,EAAKjD,GAAGyC,IAAI,OAAOyB,UAAS,GAAM,CAACrC,EAAG,KAAK,CAACA,EAAG,SAAS,CAACQ,YAAY,8BAA8BJ,MAAM,CAAC,iBAAiB,KAAK,CAACJ,EAAG,IAAI,CAACQ,YAAY,oBAAoBR,EAAG,KAAK,CAACwB,WAAW,CAAC,CAACjH,KAAK,OAAOkH,QAAQ,SAASzG,MAA8B,QAAvB4E,EAAIkB,eAA0BY,WAAW,8BAA8B,CAAC9B,EAAIa,GAAG,IAAIb,EAAIc,GAAGU,EAAKkB,aAAelB,EAAKkB,aAAe,eAAe,OAAO1C,EAAI+B,GAAG,OAAO,KAAK,CAAC,KAAOP,KAAQ,MAAK,IAAI,GAAGpB,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACZ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI5D,GAAG,2BACxoC,EAAkB,G,qBCoCtB,GACEzB,KAAM,WACNgI,MAAO,CAAC,OAAQ,kBAChBC,WAAY,CACVC,UAAJ,KAEEC,SAAU,CACRP,UAAW,CACTvH,IADN,WAEQ,OAAOiF,KAAK0B,MAEdoB,IAJN,cAMIP,iBAPJ,WAQM,MAAO,CACLQ,UAAW,IACXC,MAAO,CACLtI,KAAM,QACNuI,KAAK,EACLC,MAAM,GAERC,MAAM,EAGNC,eAAe,EACfC,QAAS,SAAjB,GACUC,EAAIC,MAENC,OAAQ,mBACRC,YAAa,SACbC,UAAW,OACXC,WAAY,QACZC,eAAe,KAIrBC,QAAS,CACP5B,QADJ,WAEMjC,KAAK8D,MAAMC,MAAM,oBAEnB7B,MAJJ,WAKMlC,KAAK8D,MAAMC,MAAM,oBC9E0U,I,wBCQ7VC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAIjE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACQ,YAAY,iBAAiBN,MAAM,CAAE,YAAaN,EAAIkE,aAAc,CAAC9D,EAAG,MAAM,CAACQ,YAAY,OAAO,CAACR,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACR,EAAG,aAAa,CAACI,MAAM,CAAC,QAAUR,EAAItB,QAAQ,IAAMsB,EAAImE,IAAI,aAAenE,EAAIoE,aAAa,SAAWpE,EAAIqE,MAAMtL,OAAO,kBAAoBiH,EAAIsE,kBAAkB,eAAiBtE,EAAIkB,mBAAmB,GAAGd,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACR,EAAG,MAAM,CAACA,EAAG,MAAM,CAACQ,YAAY,eAAe,CAAEZ,EAAS,MAAEI,EAAG,MAAM,CAACQ,YAAY,4DAA4D,CAACR,EAAG,SAAS,CAACQ,YAAY,4BAA4BqB,GAAG,CAAC,MAAQ,SAASsC,GAAQvE,EAAIwE,WAAaxE,EAAIwE,aAAa,CAACpE,EAAG,IAAI,CAACQ,YAAY,iBAAkBZ,EAAa,UAAEI,EAAG,MAAM,CAACQ,YAAY,yCAAyC,CAACR,EAAG,SAAS,CAACQ,YAAY,oBAAoBqB,GAAG,CAAC,MAAQjC,EAAIjB,eAAe,CAACqB,EAAG,IAAI,CAACQ,YAAY,oBAAoBZ,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAI5D,GAAG,aAAa,OAAOgE,EAAG,SAAS,CAACQ,YAAY,8BAA8BqB,GAAG,CAAC,MAAQjC,EAAIf,eAAe,CAACmB,EAAG,IAAI,CAACQ,YAAY,sBAAsBZ,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAI5D,GAAG,cAAc,SAAS4D,EAAIuB,OAAOvB,EAAIuB,KAAKnB,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAIyE,iBAAiBrE,EAAG,MAAM,CAACQ,YAAY,oBAAoB,CAACZ,EAAI+B,GAAG,SAAS,GAAG3B,EAAG,MAAM,CAACQ,YAAY,QAAQ,CAACR,EAAG,QAAQ,CAACQ,YAAY,oCAAoC,CAACR,EAAG,QAAQ,CAACwB,WAAW,CAAC,CAACjH,KAAK,QAAQkH,QAAQ,UAAUzG,MAAO4E,EAAU,OAAE8B,WAAW,WAAWtB,MAAM,CAAC,KAAO,OAAO,YAAcR,EAAI0E,wBAAwBC,SAAS,CAAC,MAAS3E,EAAU,QAAGiC,GAAG,CAAC,MAAQ,SAASsC,GAAWA,EAAOK,OAAOC,YAAqB7E,EAAI8E,OAAOP,EAAOK,OAAOxJ,WAAUgF,EAAG,IAAI,CAACQ,YAAY,sBAAsBZ,EAAI+B,GAAG,UAAU,KAAK,CAAC,cAAgB/B,EAAI+E,oBAAoB,eAAiB/E,EAAIkB,kBAAkB,UACxzD,EAAkB,G,4CCDlB,EAAS,WAAa,IAAIlB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACQ,YAAY,kCAAkC,CAACR,EAAG,KAAK,CAACQ,YAAY,aAAa,CAACZ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI5D,GAAG,gBAAgBgE,EAAG,SAAS,CAACQ,YAAY,uBAAuBqB,GAAG,CAAC,MAAQjC,EAAI9B,eAAe,CAACkC,EAAG,IAAI,CAACQ,YAAY,2BAA2BR,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACQ,YAAY,oCAAoC,CAACR,EAAG,QAAQ,CAACwB,WAAW,CAAC,CAACjH,KAAK,QAAQkH,QAAQ,UAAUzG,MAAO4E,EAAU,OAAE8B,WAAW,WAAWtB,MAAM,CAAC,KAAO,OAAO,YAAcR,EAAI5D,GAAG,eAAeuI,SAAS,CAAC,MAAS3E,EAAU,QAAGiC,GAAG,CAAC,MAAQ,SAASsC,GAAWA,EAAOK,OAAOC,YAAqB7E,EAAI8E,OAAOP,EAAOK,OAAOxJ,WAAUgF,EAAG,IAAI,CAACQ,YAAY,sBAAsBR,EAAG,MAAM,CAAC6B,GAAG,CAAC,MAAQ,SAASsC,GAAgC,OAAxBA,EAAOS,iBAAwBhF,EAAIiF,uBAAuB,UAAU,CAAC7E,EAAG,iBAAiB,CAACI,MAAM,CAAC,IAAMR,EAAImE,IAAI,eAAiBnE,EAAIkB,eAAe,SAAWlB,EAAIkF,aAAa,GAAIlF,EAAItB,QAAQ3F,OAAS,EAAGqH,EAAG,YAAYJ,EAAIgC,GAAG,CAACxB,MAAM,CAAC,UAAY,oBAAoB4B,MAAM,CAAChH,MAAO4E,EAAkB,eAAEqC,SAAS,SAAUC,GAAMtC,EAAImF,eAAe7C,GAAKR,WAAW,mBAAmB,YAAY9B,EAAIoF,oBAAmB,GAAOpF,EAAImB,GAAInB,EAAkB,gBAAE,SAAS1B,GAAQ,OAAO8B,EAAG,aAAa,CAAC1E,IAAI4C,EAAOC,GAAGiC,MAAM,CAAC,OAASlC,EAAO,eAAiB0B,EAAIkB,eAAe,aAAelB,EAAIoE,aAAa,kBAAoBpE,EAAIsE,wBAAuB,GAAGtE,EAAIuB,KAAMvB,EAAItB,QAAQ3F,QAAU,EAAGqH,EAAG,MAAM,CAACQ,YAAY,2DAA2D,CAACR,EAAG,IAAI,CAACQ,YAAY,4BAA4BR,EAAG,IAAI,CAACJ,EAAIa,GAAG,uCAAuCT,EAAG,IAAI,CAACJ,EAAIa,GAAG,+GAA+Gb,EAAIuB,KAAKnB,EAAG,MAAM,CAACQ,YAAY,QAAQ,CAACR,EAAG,SAAS,CAACQ,YAAY,iCAAiCqB,GAAG,CAAC,MAAQjC,EAAI9B,eAAe,CAACkC,EAAG,IAAI,CAACQ,YAAY,uBAAuBZ,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAI5D,GAAG,oBAAoB,UAAU,IAC/9D,EAAkB,GCDlB,EAAS,WAAa,IAAI4D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACQ,YAAY,gBAAgBN,MAAM,CAAE,kBAAmBN,EAAIqF,aAAcpD,GAAG,CAAC,MAAQjC,EAAIsF,oBAAoB,CAAClF,EAAG,YAAYJ,EAAIgC,GAAG,CAACpB,YAAY,eAAeN,MAAM,CAC1QiF,OAAQvF,EAAIwF,UACZvD,GAAG,CAAC,OAASjC,EAAIyF,cAAcrD,MAAM,CAAChH,MAAO4E,EAAiB,cAAEqC,SAAS,SAAUC,GAAMtC,EAAI0F,cAAcpD,GAAKR,WAAW,kBAAkB,YAAY9B,EAAI2F,qBAAoB,IAAQvF,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACI,MAAM,CAAC,OAASR,EAAI1B,OAAO,eAAiB0B,EAAIkB,eAAe,aAAelB,EAAIoE,aAAa,kBAAoBpE,EAAIsE,sBAAsB,IAAI,IAC3W,EAAkB,GCHlB,EAAS,WAAa,IAAItE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACQ,YAAY,qFAAqFN,MAAM,CAC7MiF,OAAQvF,EAAIwF,WACX,CAAGxF,EAAIwF,SAAmEpF,EAAG,IAAI,CAACQ,YAAY,0CAA7ER,EAAG,IAAI,CAACQ,YAAY,qCAAmGR,EAAG,OAAO,CAACQ,YAAY,aAAa,CAACZ,EAAIa,GAAGb,EAAIc,GAAGd,EAAIyE,eAAerE,EAAG,OAAO,CAACQ,YAAY,iCAAiC,CAACZ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4F,gBAAiB5F,EAAI1B,QAA8B,iBAApB0B,EAAI1B,OAAO3D,KAAyByF,EAAG,IAAI,CAACQ,YAAY,wCAAwCJ,MAAM,CAAC,mBAAmB,MAAMR,EAAIuB,QAC7b,EAAkB,GCoBtB,GACE5G,KAAM,iBACNgI,MAAO,CACT,SACA,iBACA,MACA,eACA,WACA,qBAEEG,SAAU,CACR0C,SADJ,WAEM,GAAIvF,KAAKiB,eAAgB,CACvB,GAA4B,QAAxBjB,KAAKiB,gBAA4BjB,KAAKiF,SACxC,OAAO,EAET,GAAIjF,KAAK3B,OACP,OAAO2B,KAAKiB,eAAe3C,KAAO0B,KAAK3B,OAAOC,GAGlD,OAAO,MAETkG,WAZJ,WAaM,OAAIxE,KAAKkE,IACAlE,KAAKkE,IAEVlE,KAAK3B,OACkB,iBAArB2B,KAAK3B,OAAO3D,KACPsF,KAAKmE,aAEPnE,KAAK3B,OAAO3D,KAEd,MAETiL,YAxBJ,WAyBM,OAAI3F,KAAKiF,SACAjF,KAAKiF,SAEVjF,KAAK3B,OACH2B,KAAKmE,cAAqC,iBAArBnE,KAAK3B,OAAO3D,KAC5BsF,KAAKqE,kBAEPrE,KAAK3B,OAAOE,MAAMzF,OAEpB,QCnE0V,ICQnW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCef,GACE4B,KAAM,aACNgI,MAAO,CAAC,SAAU,iBAAkB,eAAgB,qBACpDC,WAAY,CACVC,UAAJ,IACIgD,eAAJ,GAEEtN,KAPF,WAQI,MAAO,CACLmN,cAAe,GACf7C,WAAW,IAGfC,SAAU,CACR6C,oBADJ,WAEM,MAAO,CACL3C,UAAW,IACXC,MAAO,CACLtI,KAAM,QAENuI,IAAK,CAAC,UAERW,eAAe,IAGnB2B,SAZJ,WAaM,OAAOvF,KAAKiB,eAAe3C,KAAO0B,KAAK3B,OAAOC,IAGhD8G,YAhBJ,WAiBM,MAA4B,iBAArBpF,KAAK3B,OAAO3D,OAGvBmJ,QAAS,CACPwB,kBADJ,WAEMrF,KAAK8D,MAAMC,MAAM,qBAAsB/D,KAAK3B,SAG9CmH,aALJ,SAKA,GAEM,GAAIK,EAAMC,MAAO,CAMf,IAAR,GACUC,SAAU/F,KAAK3B,OACfQ,OAAQgH,EAAMC,MAAME,QAAQ1H,GAC5B2C,eAAgBjB,KAAKiB,gBAGvBjB,KAAK8D,MAAMC,MAAM,eAAgBkC,OCtF0T,ICQ/V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCqDf,GACEvL,KAAM,gBACNgI,MAAO,CACT,UACA,MACA,eACA,iBACA,oBACA,YAEEC,WAAY,CACVuD,WAAJ,EACIN,eAAJ,EACIhD,UAAJ,KAEEtK,KAfF,WAgBI,MAAO,CACLuM,OAAQ,KAGZhC,SAAU,CACRqC,eAAgB,CACdnK,IADN,WACA,WACQ,OAAOiF,KAAKvB,QAAQ0H,QAAO,SAAnC,GAEU,MAAoB,iBAAhB9H,EAAO3D,MAGJ,OAAjB,YAAiB,CAAjB,4BACA,iDAQMoI,IAhBN,SAgBA,GACQ9C,KAAK8D,MAAMC,MAAM,cAAe5I,KAGpCgK,mBArBJ,WAsBM,MAAO,CACLpC,UAAW,IACXC,MAAO,CAELtI,KAAM,UAENuI,KAAK,GAGPO,OAAQ,wBAKdK,QAAS,CAEP5F,aAFJ,WAEA,WACMjC,OAAOK,IAAIC,GACjB,8CACA,kBACA,GAEU,EAAV,mCAKI0I,uBAbJ,SAaA,GACMhF,KAAK8D,MAAMC,MAAM,qBAAsBS,MC9IsT,ICQ/V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCgDf,GACE9J,KAAM,SAENgI,MAAO,CAAC,UAAW,QAAS,MAAO,eAAgB,0BACnDpK,KAJF,WAKI,MAAO,CACLuM,OAAQ,GACR5D,eAAgB,MAChBgD,YAAY,EACZM,WAAW,IAGf5B,WAAY,CACVyD,WAAJ,GAEEvD,SAAU,CAERwD,kBAFJ,WAEA,WACA,KAmBM,OAlBAA,EAAoBrG,KAAKoE,MAAM+B,QAAO,SAA5C,GAEQ,IAAR,KAaQ,OAXA,EAAR,yBAGc9H,EAAOE,MAAM+H,SAAS/E,EAAKjD,MAG7BiI,GAAe,OAKXA,KAGHF,GAGThC,kBAzBJ,WA0BM,OAAOrE,KAAKqG,kBAAkBvN,QAEhC0L,WA5BJ,WA8BM,MAA4B,QAAxBxE,KAAKiB,eACAjB,KAAKkE,IAGmB,iBAA7BlE,KAAKiB,eAAevG,KACfsF,KAAKmE,aAGPnE,KAAKiB,eAAevG,MAG7BsG,cAzCJ,WAyCA,WACA,aAwBM,GAtBIhB,KAAKiB,gBAA0C,QAAxBjB,KAAKiB,gBAC9BmD,EAAM1F,KAAI,SAAlB,GACU,IAAV,KAgBU,OAfA,EAAV,yBACgBL,EAAOE,MAAM+H,SAAS/E,EAAKjD,MAC7BiI,GAAe,EAIfhF,EAAK,gBAAkBlD,EAAO3D,SAK7B6L,IACHhF,EAAK,gBAAkB,IAGlBA,KAIPvB,KAAKiB,gBAA0C,QAAxBjB,KAAKiB,eAA0B,CAExD,GAAiC,iBAA7BjB,KAAKiB,eAAevG,KAEtB,OAAOsF,KAAKqG,kBAGZjC,EAAQA,EAAM+B,QAAO,SAA/B,GAEY,OAAO,EAAnB,uCAIM,OAAO/B,GAETU,oBAjFJ,WAiFA,WACA,qBAYM,OATI9E,KAAK6E,SAEPT,EAAQpE,KAAKgB,cAAcmF,QAAO,SAA1C,GAEU,OAAO,OAAjB,YAAiB,CAAjB,4BACA,iDAIa/B,GAGToC,MAjGJ,WAkGM,QACN,6BACA,6CAIE3C,QAAS,CAEP/E,aAFJ,WAEA,WACM9C,OAAOK,IAAIC,GAGjB,gEACA,kBACA,GAGU,EAAV,6BACY,GAAZ,oBACY,KAAZ,QAKI0C,aAlBJ,WAkBA,WACMhD,OAAOK,IAAIC,GAGjB,QACA,QACA,iLAGA,iBAEQ,EAAR,iDAEQ,EAAR,yBAGImK,uBAlCJ,SAkCA,GAEMzG,KAAKiB,eAAiBgF,EACtBjG,KAAKuE,WAAY,GAEnBS,uBAvCJ,SAuCA,GACsB,QAAZiB,IACFjG,KAAKiB,eAAiBgF,IAG1BS,oBA5CJ,WA6CM1G,KAAKiE,YAAa,GAEpB0C,kBA/CJ,WAgDM3G,KAAKiE,YAAa,IAGtB2C,QA1KF,WA4KI5G,KAAK8D,MAAM+C,IAAI,qBAAsB7G,KAAKyG,wBAC1CzG,KAAK8D,MAAM+C,IAAI,qBAAsB7G,KAAKgF,wBAC1ChF,KAAK8D,MAAM+C,IAAI,kBAAmB7G,KAAK0G,qBACvC1G,KAAK8D,MAAM+C,IAAI,gBAAiB7G,KAAK2G,qBClP2S,ICQhV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCwIf,GACEjM,KAAM,iBACNiI,WAAY,CACVmE,SAAJ,EACIC,WAAJ,GAEEzO,KANF,WAOI,MAAO,CACLgI,SAAS,EAET0G,WAAY,CAClB,CAAQ,OAAR,QAAQ,MAAR,2BACA,CAAQ,OAAR,OAAQ,MAAR,mBACA,CAAQ,OAAR,UAAQ,MAAR,wBAIEnE,SAAU,OAAZ,OAAY,CAAZ,GAEA,qCAEEgB,QAAS,CAGPxC,mBAHJ,SAGA,KACM,OAAOL,EAAcmF,QAAO,SAAlC,GACQ,OAAO5E,EAAKpC,SAAWA,MAG3B8H,mBARJ,SAQA,cAEMjH,KAAKM,SAAU,EAEfN,KAAKkH,OAAOC,SAAS,eAAgBlB,GAASmB,MAAK,WAEjD,EAAR,eAGIC,mBAjBJ,SAiBA,cACMrH,KAAKM,SAAU,EACfN,KAAKkH,OAAOC,SAAS,eAAgBlB,GAASmB,MAAK,WACjD,EAAR,eAGIE,mBAvBJ,SAuBA,cACMtH,KAAKM,SAAU,EACfN,KAAKkH,OAAOC,SAAS,eAAgBlB,GAASmB,MAAK,WACjD,EAAR,eAGIG,iBA7BJ,SA6BA,GACMvH,KAAKkH,OAAOC,SAAS,oBAAqBlB,GAASmB,MAAK,gBAE1DI,kBAhCJ,SAgCA,cACMxH,KAAKM,SAAU,EACfN,KAAKkH,OAAOC,SAAS,sBAAuBlB,GAASmB,MAAK,WACxD,EAAR,gBAIER,QA5DF,WA8DI5G,KAAK8D,MAAM+C,IAAI,gBAAiB7G,KAAKiH,oBACrCjH,KAAK8D,MAAM+C,IAAI,gBAAiB7G,KAAKqH,oBACrCrH,KAAK8D,MAAM+C,IAAI,gBAAiB7G,KAAKsH,oBACrCtH,KAAK8D,MAAM+C,IAAI,cAAe7G,KAAKuH,kBACnCvH,KAAK8D,MAAM+C,IAAI,eAAgB7G,KAAKwH,qBC7NgT,ICQpV,I,UAAY,eACd,EACA,EACA/F,GACA,EACA,KACA,WACA,OAIa,M,kBCTfgG,OAAIC,IAAIC,QAIRF,OAAIG,MAAM,CACR/D,QAAS,CACP1H,GADO,SACJ0L,GACD,OAAOA,MAKbJ,OAAIK,OAAOC,eAAgB,EAG3BN,OAAItB,OAAO,cAAc,SAAShL,GAChC,GAAIA,EAAO,CACT,IAAI6M,EAAe,IAAIC,KAAK9M,GACtB+M,EAAU,CAEdC,KAAM,UACNC,MAAO,OACPC,IAAK,WAEP,OAAOL,EAAaM,mBAAmB,QAASJ,OAKpD,IAAIK,GAAQC,KAcZ,SAASA,KAEP,IAAIC,EAAQ,CAEVhK,QAAS,GAETF,MAAO,GACP+B,QAAS,CACPrC,cAAc,EACdyK,GAAI,OAKJC,EAAU,CACZC,gBADY,SACIH,GACd,IAAII,EAAM,GAUV,OATAA,EAAMJ,EAAMlK,MAAM4H,QAAO,SAAA5E,GACvB,IAAIgF,GAAe,EAMnB,OALAkC,EAAMhK,QAAQC,KAAI,SAAAL,GACZA,EAAOE,MAAM+H,SAAS/E,EAAKjD,MAC7BiI,GAAe,OAGXA,KAEHsC,IAKPC,EAAY,CAEdrK,QAFc,SAENgK,EAAOxC,GACbwC,EAAMhK,QAAUwH,GAElB1H,MALc,SAKRkK,EAAOxC,GACXwC,EAAMlK,MAAQ0H,GAEhB8C,WARc,SAQHN,EAAOpK,GAEhBoK,EAAMhK,QAAQzE,OAAO,EAAG,EAAGqE,IAE7B2K,cAZc,SAYAP,EAAOxJ,GACnBwJ,EAAMhK,QAAQzE,OACZyO,EAAMhK,QAAQwK,WAAU,SAAA5K,GACtB,OAAOA,EAAOC,KAAOW,KAEvB,KAMFiK,EAAU,CACNhK,KADM,YACW,0JAAViK,EAAU,EAAVA,OAAU,kBACdC,EAAQlK,OAAOkI,MAAK,SAAAzK,GACzBwM,EAAO,UAAWxM,EAASyB,QAAQK,SACnC0K,EAAO,QAASxM,EAASyB,QAAQG,WAHd,8CAQvBN,aAAcoL,sBAAQ,yDAGpB,aAAmB3O,GAAnB,8FAASyO,EAAT,EAASA,OAAT,kBACSC,EAAQnL,aAAavD,GAAM0M,MAAK,SAAAzK,GAErC,GAAIA,EAASI,QAOX,OAJAoM,EAAO,aAAcxM,EAASyB,QAAQC,QAEtCrC,OAAOK,IAAIC,GAAGS,UAEPN,QAAQC,UAGfV,OAAOK,IAAIC,GAAGM,MAAMD,EAASyB,aAbnC,2CAHoB,wDAoBpB,IACA,CAAEkL,SAAS,IAEPC,kBAhCM,WAgCwBtD,GAAS,0JAAnBkD,EAAmB,EAAnBA,OAAmB,kBACpCC,EAAQ5K,oBAAoByH,GAASmB,MAAK,SAAAzK,GAC/C,GAAIA,EAASI,QAGX,OAFAoM,EAAO,UAAWlD,GAClBjK,OAAOK,IAAIC,GAAGS,UACPN,QAAQC,UAEfV,OAAOK,IAAIC,GAAGM,MAAMD,EAASyB,aAPU,8CAYvCO,oBA5CM,cA+CV,kKAFE8J,EAEF,EAFEA,MAAOU,EAET,EAFSA,OACPpD,EACF,EADEA,SAAUlH,EACZ,EADYA,OAAQoC,EACpB,EADoBA,eACpB,kBACOmI,EAAQzK,oBAAoB,CACjCC,WAAYmH,EAASzH,GACrBO,WACCuI,MAAK,SAAAzK,GACN,GAAIA,EAASI,QAAS,CACpB,IAAIkJ,EAAUwC,EAAMhK,QAAQC,KAAI,SAAAL,GAiC9B,OA1BEA,EAAOC,KAAOyH,EAASzH,IACvByH,IAAa9E,EAAe3C,IACV,iBAAlByH,EAASrL,KAGJ2D,EAAOE,MAAM+H,SAASzH,IAEzBR,EAAOE,MAAMnF,KAAKyF,GAKhBR,EAAOE,MAAM+H,SAASzH,IAExBR,EAAOE,MAAMvE,OAAOqE,EAAOE,MAAMiL,QAAQ3K,GAAS,GAIhC,iBAAlBkH,EAASrL,MAEP2D,EAAOE,MAAM+H,SAASzH,IAExBR,EAAOE,MAAMvE,OAAOqE,EAAOE,MAAMiL,QAAQ3K,GAAS,GAI/CR,KAOT,OAJA8K,EAAO,UAAWlD,GAElBkD,EAAO,QAAD,eAAcV,EAAMlK,QAC1BvC,OAAOK,IAAIC,GAAGS,UACPN,QAAQC,UAEfV,OAAOK,IAAIC,GAAGM,MAAMD,EAASyB,aAhDjC,8CAqDIU,aApGM,WAoG0BC,GAAe,4JAAhC0J,EAAgC,EAAhCA,MAAOU,EAAyB,EAAzBA,OAAyB,kBAC5CC,EAAQtK,aAAaC,GAAeqI,MAAK,SAAAzK,GAC9C,GAAIA,EAASI,QAAS,CACpB,IAAIkJ,EAAUwC,EAAMhK,QAAQC,KAAI,SAAAL,GAI9B,OAHIA,EAAOC,KAAOS,EAAcT,KAC9BD,EAAO3D,KAAOqE,EAAcrE,MAEvB2D,KAIT,OAFA8K,EAAO,UAAWlD,GAClBjK,OAAOK,IAAIC,GAAGS,UACPN,QAAQC,UAEfV,OAAOK,IAAIC,GAAGM,MAAMD,EAASyB,aAbkB,8CAkB/CY,aAtHM,WAsHmBC,GAAU,0JAApBkK,EAAoB,EAApBA,OAAoB,kBAChCC,EAAQpK,aAAaC,GAAUmI,MAAK,SAAAzK,GACzC,GAAIA,EAASI,QAGX,OAFAoM,EAAO,gBAAiBlK,GACxBjD,OAAOK,IAAIC,GAAGS,UACPN,QAAQC,UAEfV,OAAOK,IAAIC,GAAGM,MAAMD,EAASyB,aAPM,+CAc3C,OAAO,IAAIuJ,OAAK8B,MAAM,CACpBhB,QACAE,UACAG,YACAI,YAxMJ,IAAIzB,OAAI,CACNc,SACAmB,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OACdC,OAAO,QAGVtB,GAAMpB,SAAS,S,oCCjDf,yBAA4jB,EAAG,G,oCCA/jB,yBAAuiB,EAAG,G","file":"js/app.fe270cc0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vmod-filesfolders-demo/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// import $ from 'jquery';\r\n\r\n/* Permet de simuler l'internationalisation */\r\nwindow.__ = function(txt) {\r\n  return txt;\r\n};\r\n\r\n// window.app.ui.loadingFrame(this.$parent.$el, false)\r\n\r\n/* Permet d'ajouter des fonctions helpers à l'objet window*/\r\nwindow.app = {\r\n  ui: {\r\n    // loading: function(onOff) {\r\n    //   if (onOff) {\r\n    //     //console.trace()\r\n    //     $('body').addClass('loading');\r\n    //   } else {\r\n    //     $('body').removeClass('loading');\r\n    //   }\r\n    // },\r\n    // loadingFrame: function(selector, onOff) {\r\n    //   $(selector)[onOff ? 'addClass' : 'removeClass']('frame-loading');\r\n    // },\r\n    confirm(msg) {\r\n      return new Promise(resolve => {\r\n        let response = window.confirm(msg);\r\n        if (response) {\r\n          resolve();\r\n        }\r\n      });\r\n    },\r\n    error(msg) {\r\n      alert('Error !' + String(msg));\r\n    },\r\n    /* Permet d'afficher un message de notification de success */\r\n    success() {\r\n      //alert('Success')\r\n      let str = `<div class=\"toaster alert alert-success\" role=\"alert\" style=\"position: fixed; top: 0; left: 50%; margin-left: -50px;\">\r\n          Success\r\n          </div>`;\r\n      var z = document.createElement('div'); // is a node\r\n      z.innerHTML = str;\r\n      document.body.appendChild(z);\r\n      window.setTimeout(function() {\r\n        z.parentNode.removeChild(z);\r\n        // $('.toaster.alert')\r\n        //   .fadeTo(200, 0)\r\n        //   .slideUp(200, function() {\r\n        //     $(this).remove();\r\n        //   });\r\n      }, 2000);\r\n    },\r\n    prompt(title, value) {\r\n      return new Promise(resolve => {\r\n        let rep = window.prompt(title, value);\r\n        if (rep) {\r\n          resolve(rep);\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderItemLink.vue?vue&type=style&index=0&id=14c24f5a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderItemLink.vue?vue&type=style&index=0&id=14c24f5a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignFolder.vue?vue&type=style&index=0&id=6c91da4a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignFolder.vue?vue&type=style&index=0&id=6c91da4a&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderList.vue?vue&type=style&index=0&id=5acd7514&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderList.vue?vue&type=style&index=0&id=5acd7514&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileList.vue?vue&type=style&index=0&lang=scss&\"","function uuid() {\r\n  return Math.random()\r\n    .toString(16)\r\n    .slice(2);\r\n}\r\n\r\n// Folders //\r\n\r\nfunction createFolder(name) {\r\n  return new Promise(resolve => {\r\n    // On simule un temps de traitement de 500ms\r\n    setTimeout(function() {\r\n      //ajax goes here\r\n      console.log('ajax call add folder', { name });\r\n\r\n      // On retourne une promesse résolue avec un objet qui contient\r\n      // le folder vide avec un id unique\r\n      resolve({\r\n        success: true,\r\n        message: { folder: { id: uuid(), name, items: [] } }\r\n      });\r\n    }, 500);\r\n  });\r\n}\r\n\r\nfunction saveFoldersPosition(folders) {\r\n  return new Promise(resolve => {\r\n    //ajax goes here\r\n    console.log(\r\n      'ajax call folders',\r\n      folders.map(folder => folder.id)\r\n    );\r\n\r\n    resolve({\r\n      success: true,\r\n      message: null\r\n    });\r\n  });\r\n}\r\n\r\nfunction updateFolderContent({ toFolderId, fileId }) {\r\n  return new Promise(resolve => {\r\n    setTimeout(function() {\r\n      //ajax goes here\r\n      console.log('ajax call update folder content', {\r\n        id: toFolderId,\r\n        fileId: fileId\r\n      });\r\n\r\n      resolve({\r\n        success: true,\r\n        message: null\r\n      });\r\n    }, 500);\r\n  });\r\n}\r\n\r\nfunction renameFolder(folderUpdated) {\r\n  return new Promise(resolve => {\r\n    setTimeout(function() {\r\n      //ajax goes here\r\n      console.log('ajax call rename folder', {\r\n        id: folderUpdated.id,\r\n        name: folderUpdated.name\r\n      });\r\n\r\n      resolve({\r\n        success: true,\r\n        message: null\r\n      });\r\n    }, 500);\r\n  });\r\n}\r\n\r\nfunction deleteFolder(folderId) {\r\n  return new Promise(resolve => {\r\n    setTimeout(function() {\r\n      //ajax goes here\r\n      console.log('ajax call delete folder', folderId);\r\n\r\n      resolve({\r\n        success: true,\r\n        message: null\r\n      });\r\n    }, 1000);\r\n  });\r\n}\r\n\r\n// // Snippets //\r\n\r\n// function saveSnippetsPosition(snippets) {\r\n//   return new Promise(resolve => {\r\n//     //ajax goes here\r\n//     console.log(\r\n//       'ajax call snippets',\r\n//       snippets.map(snippet => {\r\n//         return {\r\n//           id: snippet.id,\r\n//           category_id: snippet.category_id,\r\n//           position: snippet.position\r\n//         };\r\n//       })\r\n//     );\r\n\r\n//     resolve({\r\n//       success: true,\r\n//       message: null\r\n//     });\r\n//   });\r\n// }\r\n\r\n// function saveSnippet(snippetToSave) {\r\n//   return new Promise(resolve => {\r\n//     setTimeout(function() {\r\n//       //ajax goes here\r\n//       console.log('ajax call save snippet', {\r\n//         id: snippetToSave.id,\r\n//         title: snippetToSave.title,\r\n//         contents: snippetToSave.contents\r\n//       });\r\n//       resolve({\r\n//         success: true,\r\n//         message: null\r\n//       });\r\n//     }, 1000);\r\n//   });\r\n// }\r\n\r\n// function getEmptySnippet() {\r\n//   return new Promise(resolve => {\r\n//     setTimeout(function() {\r\n//       //ajax goes here\r\n//       console.log('ajax call get empty snippet');\r\n\r\n//       resolve({\r\n//         success: true,\r\n//         message: {\r\n//           snippet: {\r\n//             id: uuid(),\r\n//             title: '',\r\n//             category_id: 0,\r\n//             position: 1000,\r\n//             contents: [\r\n//               {\r\n//                 language_id: 1,\r\n//                 content: ''\r\n//               },\r\n//               {\r\n//                 language_id: 2,\r\n//                 content: ''\r\n//               },\r\n//               {\r\n//                 language_id: 3,\r\n//                 content: ''\r\n//               }\r\n//             ]\r\n//           }\r\n//         }\r\n//       });\r\n//     }, 1000);\r\n//   });\r\n// }\r\n\r\n// function deleteSnippet(snippetId) {\r\n//   return new Promise(resolve => {\r\n//     setTimeout(function() {\r\n//       //ajax goes here\r\n//       console.log('ajax call delete snippet', snippetId);\r\n\r\n//       resolve({\r\n//         success: true,\r\n//         message: null\r\n//       });\r\n//     }, 1000);\r\n//   });\r\n// }\r\n\r\n// // Datas //\r\n\r\nfunction load() {\r\n  return new Promise(resolve => {\r\n    let response = {\r\n      success: true,\r\n      message: {\r\n        folders: [\r\n          {\r\n            id: 0,\r\n            name: 'unclassified',\r\n            items: []\r\n          },\r\n          {\r\n            id: 1,\r\n            name: 'Folder 1 été',\r\n            items: []\r\n          },\r\n          {\r\n            id: 2,\r\n            name: 'Folder 2 hiver',\r\n            items: []\r\n          },\r\n          {\r\n            id: 3,\r\n            name: 'Folder 3 printemps',\r\n            items: []\r\n          }\r\n        ],\r\n        items: [\r\n          {\r\n            id: 1,\r\n            name:\r\n              'File 1  ééé i fusdiu iosdu fisdufi usiodu fiu sdiofu sidufu sdf usdiof iosdf isdifuisd',\r\n            status: 'draft',\r\n            created_at: '2020-05-11 12:00:00',\r\n            date_scheduled: '2020-05-11 12:00:00',\r\n            date_sent: '2020-05-11 12:00:00',\r\n            recipient_count: '2020-05-11 12:00:00',\r\n            opened_count: '2020-05-11 12:00:00',\r\n            clicked_count: '2020-05-11 12:00:00',\r\n            sending_list: [\r\n              {\r\n                name: 'Liste clients',\r\n                total_customer: 5122\r\n              }\r\n            ],\r\n            routes: {\r\n              edit: '/crm/edit',\r\n              reporting: '/crm/reporting'\r\n            }\r\n          },\r\n          {\r\n            id: 2,\r\n            name: 'File 2',\r\n            status: 'planned',\r\n            created_at: '2020-05-11 12:00:00',\r\n            date_scheduled: '2020-05-11 12:00:00',\r\n            date_sent: '2020-05-11 12:00:00',\r\n            recipient_count: '2020-05-11 12:00:00',\r\n            opened_count: '2020-05-11 12:00:00',\r\n            clicked_count: '2020-05-11 12:00:00',\r\n            sending_list: [\r\n              {\r\n                name: 'Liste de mes clients',\r\n                total_customer: 5122\r\n              }\r\n            ],\r\n            routes: {\r\n              edit: '/crm/edit',\r\n              reporting: '/crm/reporting'\r\n            }\r\n          },\r\n          {\r\n            id: 3,\r\n            name: 'File 3 le printemps',\r\n            status: 'sent',\r\n            created_at: '2020-05-11 12:00:00',\r\n            date_scheduled: '2020-05-11 12:00:00',\r\n            date_sent: '2020-05-11 12:00:00',\r\n            recipient_count: '2020-05-11 12:00:00',\r\n            opened_count: '2020-05-11 12:00:00',\r\n            clicked_count: '2020-05-11 12:00:00',\r\n            sending_list: [\r\n              {\r\n                name: 'Liste de mes clients',\r\n                total_customer: 5122\r\n              },\r\n              {\r\n                name: 'Another list',\r\n                total_customer: 5122\r\n              }\r\n            ],\r\n            routes: {\r\n              edit: '/crm/edit',\r\n              reporting: '/crm/reporting'\r\n            }\r\n          },\r\n          {\r\n            id: 4,\r\n            name: 'File 4 automne',\r\n            status: 'sent',\r\n            created_at: '2020-05-11 12:00:00',\r\n            date_scheduled: '2020-05-11 12:00:00',\r\n            date_sent: '2020-05-11 12:00:00',\r\n            recipient_count: '2020-05-11 12:00:00',\r\n            opened_count: '2020-05-11 12:00:00',\r\n            clicked_count: '2020-05-11 12:00:00',\r\n            sending_list: [\r\n              {\r\n                name: 'Liste de mes clients',\r\n                total_customer: 5122\r\n              }\r\n            ],\r\n            routes: {\r\n              edit: '/crm/edit',\r\n              reporting: '/crm/reporting'\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    };\r\n\r\n    resolve(response);\r\n  });\r\n}\r\n\r\nexport default {\r\n  load,\r\n  createFolder,\r\n  saveFoldersPosition,\r\n  updateFolderContent,\r\n  renameFolder,\r\n  deleteFolder\r\n  // deleteCategory,\r\n  // saveSnippetsPosition,\r\n  // saveSnippet,\r\n  // getEmptySnippet,\r\n  // deleteSnippet\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'frame-loading': _vm.loading }},[_c('FolderMain',{attrs:{\"folders\":_vm.folders,\"files\":_vm.items,\"all\":_vm.__('Tous les fichiers'),\"unclassified\":_vm.__('Les fichiers non-classés'),\"searchFilesPlaceholder\":_vm.__('Rechercher dans les fichiers')},scopedSlots:_vm._u([{key:\"link\",fn:function(){return [_c('a',{staticClass:\"btn btn-link\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.__('Stats du dossier'))+\" \"),_c('i',{staticClass:\"fas fa-chart-bar\"})])]},proxy:true},{key:\"content\",fn:function(ref){\nvar filteredFiles = ref.filteredFiles;\nvar selectedFolder = ref.selectedFolder;\nreturn _vm._l((_vm.statusList),function(statusItem,index){return _c('div',{key:index},[_c('h3',[_vm._v(_vm._s(statusItem.title))]),_c('FileList',{attrs:{\"list\":_vm.campaignWithStatus(filteredFiles, statusItem.status),\"selectedFolder\":selectedFolder},scopedSlots:_vm._u([{key:\"filesheader\",fn:function(){return [(statusItem.status === 'draft')?[_c('th',[_vm._v(\"Nom\")]),_c('th',[_vm._v(\"Status\")]),_c('th',[_vm._v(\"Ouverture\")]),_c('th',[_vm._v(\"Action\")]),_c('th',[_vm._v(\"Id\")]),_c('th',[_vm._v(\"Id\")])]:_vm._e(),(statusItem.status === 'sent')?[_c('th',[_vm._v(\"Nom\")]),_c('th',[_vm._v(\"Destinataire\")]),_c('th',[_vm._v(\"Status\")]),_c('th',[_vm._v(\"Ouverture\")]),_c('th',[_vm._v(\"Action\")]),_c('th',[_vm._v(\"Id\")])]:_vm._e(),(statusItem.status === 'planned')?[_c('th',[_vm._v(\"Nom\")]),_c('th',[_vm._v(\"Status\")]),_c('th',[_vm._v(\"Action\")]),_c('th',[_vm._v(\"Id\")])]:_vm._e()]},proxy:true},{key:\"file\",fn:function(ref){\nvar file = ref.file;\nreturn [(statusItem.status === 'draft')?[_c('td',[_c('strong',[_vm._v(_vm._s(file.name))])]),_c('td',[_vm._v(_vm._s(file.status))]),_c('td',[_vm._v(_vm._s(_vm._f(\"formatDate\")(file.opened_count)))]),_c('td',[_vm._v(_vm._s(file.id))]),_c('td',[_vm._v(_vm._s(file.id))]),_c('td',[_c('div',{staticClass:\"ml-auto btn-container\"},[_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-secondary mr-1\"},[_c('i',{staticClass:\"fas fa-ellipsis-h\"})]),_c('button',{staticClass:\"btn btn-secondary\"},[_vm._v(\" \"+_vm._s(_vm.__('modifier'))+\" \"),_c('i',{staticClass:\"fas fa-arrow-right ml-1\"})])])])])]:_vm._e(),(statusItem.status === 'sent')?[_c('td',[_c('strong',[_vm._v(_vm._s(file.name))])]),_c('td',[_vm._v(_vm._s(file.sending_list[0].total_customer))]),_c('td',[_vm._v(_vm._s(file.status))]),_c('td',[_vm._v(_vm._s(_vm._f(\"formatDate\")(file.opened_count)))]),_c('td',[_vm._v(_vm._s(file.id))]),_c('td',[_c('div',{staticClass:\"ml-auto btn-container\"},[_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-secondary mr-1\"},[_c('i',{staticClass:\"fas fa-ellipsis-h\"})]),_c('button',{staticClass:\"btn btn-secondary\"},[_vm._v(\" \"+_vm._s(_vm.__('modifier'))+\" \"),_c('i',{staticClass:\"fas fa-arrow-right ml-1\"})])])])])]:_vm._e(),(statusItem.status === 'planned')?[_c('td',[_c('strong',[_vm._v(_vm._s(file.name))])]),_c('td',[_vm._v(_vm._s(file.status))]),_c('td',[_vm._v(_vm._s(file.id))]),_c('td',[_c('div',{staticClass:\"ml-auto btn-container\"},[_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-secondary mr-1\"},[_c('i',{staticClass:\"fas fa-ellipsis-h\"})]),_c('button',{staticClass:\"btn btn-secondary\"},[_vm._v(\" \"+_vm._s(_vm.__('rapport'))+\" \"),_c('i',{staticClass:\"fas fa-arrow-right ml-1\"})])])])])]:_vm._e()]}}],null,true)})],1)})}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.list.length > 0)?_c('table',{staticClass:\"table-custom table\"},[_c('thead',[_c('tr',[_c('th'),_c('th',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedFolder === 'all'),expression:\"selectedFolder === 'all'\"}]},[_vm._v(_vm._s(_vm.__('Classée dans')))]),_vm._t(\"filesheader\")],2)]),_c('draggable',_vm._b({attrs:{\"tag\":\"tbody\"},on:{\"start\":_vm.onStart,\"end\":_vm.onEnd},model:{value:(_vm.dragFiles),callback:function ($$v) {_vm.dragFiles=$$v},expression:\"dragFiles\"}},'draggable',_vm.dragFilesOptions,false),_vm._l((_vm.list),function(file){return _c('tr',{key:file.id,ref:\"file\",refInFor:true},[_c('td',[_c('button',{staticClass:\"btn btn-link mr-1 drag-file\",attrs:{\"data-drag-file\":\"\"}},[_c('i',{staticClass:\"fas fa-bars\"})])]),_c('td',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedFolder === 'all'),expression:\"selectedFolder === 'all'\"}]},[_vm._v(\" \"+_vm._s(file.classifiedIn ? file.classifiedIn : 'Non-classée')+\" \")]),_vm._t(\"file\",null,{\"file\":file})],2)}),0)],1):_c('div',{staticClass:\"pt-2 pb-3\"},[_vm._v(_vm._s(_vm.__('Pas de campagnes')))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <table class=\"table-custom table\" v-if=\"list.length > 0\">\r\n      <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th v-show=\"selectedFolder === 'all'\">{{ __('Classée dans') }}</th>\r\n          <slot name=\"filesheader\"></slot>\r\n        </tr>\r\n      </thead>\r\n      <draggable\r\n        tag=\"tbody\"\r\n        v-model=\"dragFiles\"\r\n        v-bind=\"dragFilesOptions\"\r\n        @start=\"onStart\"\r\n        @end=\"onEnd\"\r\n      >\r\n        <tr v-for=\"file in list\" :key=\"file.id\" ref=\"file\">\r\n          <td>\r\n            <button class=\"btn btn-link mr-1 drag-file\" data-drag-file>\r\n              <i class=\"fas fa-bars\"></i>\r\n            </button>\r\n          </td>\r\n          <td v-show=\"selectedFolder === 'all'\">\r\n            {{ file.classifiedIn ? file.classifiedIn : 'Non-classée' }}\r\n          </td>\r\n          <slot name=\"file\" :file=\"file\"></slot>\r\n        </tr>\r\n      </draggable>\r\n    </table>\r\n    <div class=\"pt-2 pb-3\" v-else>{{ __('Pas de campagnes') }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from 'vuedraggable';\r\n\r\nexport default {\r\n  name: 'FileList',\r\n  props: ['list', 'selectedFolder'],\r\n  components: {\r\n    draggable\r\n  },\r\n  computed: {\r\n    dragFiles: {\r\n      get() {\r\n        return this.list;\r\n      },\r\n      set() {}\r\n    },\r\n    dragFilesOptions() {\r\n      return {\r\n        animation: 150,\r\n        group: {\r\n          name: 'files',\r\n          put: false,\r\n          pull: true\r\n        },\r\n        sort: false,\r\n        /* Permet le retour de l'item à sa position initiale si l'on\r\n        relâche le drag en dehors de la liste de destination */\r\n        revertOnSpill: true,\r\n        onSpill: function(evt) {\r\n          evt.item;\r\n        },\r\n        handle: '[data-drag-file]',\r\n        chosenClass: 'chosen', // Class name for the chosen item\r\n        dragClass: 'drag', // Class name for the dragging item\r\n        ghostClass: 'ghost', // Class name for the drop placeholder\r\n        forceFallback: true // Key to make autoScroll works\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    onStart() {\r\n      this.$root.$emit('start-drag-file');\r\n    },\r\n    onEnd() {\r\n      this.$root.$emit('end-drag-file');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.chosen {\r\n  // background: red;\r\n}\r\n\r\n.ghost {\r\n  // background: greenyellow;\r\n}\r\n\r\n.drag {\r\n  opacity: 1 !important;\r\n  background: white !important;\r\n  border: 6px solid gray !important;\r\n  width: 400px !important;\r\n  height: 80px !important;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: move;\r\n  td {\r\n    display: none;\r\n  }\r\n  td:nth-child(1),\r\n  td:nth-child(2),\r\n  td:nth-child(3) {\r\n    display: inline;\r\n    border: none !important;\r\n    background: transparent !important;\r\n  }\r\n}\r\n\r\n.drag:after {\r\n  // content:\"sdsdf\";\r\n  // opacity: 1;\r\n  // visibility: visible;\r\n  // position: absolute;\r\n  // top: 0;\r\n  // left: 0;\r\n  // width: 100%;\r\n  // height: 100%;\r\n  // border: 3px solid blue;\r\n}\r\n\r\n.drag-file {\r\n  cursor: move;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileList.vue?vue&type=template&id=706367c8&\"\nimport script from \"./FileList.vue?vue&type=script&lang=js&\"\nexport * from \"./FileList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container mt-3\",class:{ 'drag-file': _vm.isDragFile }},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('FolderList',{attrs:{\"folders\":_vm.folders,\"all\":_vm.all,\"unclassified\":_vm.unclassified,\"allCount\":_vm.files.length,\"unclassifiedCount\":_vm.unclassifiedCount,\"selectedFolder\":_vm.selectedFolder}})],1),_c('div',{staticClass:\"col-md-9\"},[_c('div',[_c('div',{staticClass:\"text-center\"},[(_vm.isCog)?_c('div',{staticClass:\"cog position-absolute d-flex flex-column align-items-end\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",on:{\"click\":function($event){_vm.isCogOpen = !_vm.isCogOpen}}},[_c('i',{staticClass:\"fas fa-cog\"})]),(_vm.isCogOpen)?_c('div',{staticClass:\"d-flex flex-column align-items-strech\"},[_c('button',{staticClass:\"btn btn-secondary\",on:{\"click\":_vm.renameFolder}},[_c('i',{staticClass:\"fas fa-pen pr-2\"}),_vm._v(\" \"+_vm._s(_vm.__('Renommer'))+\" \")]),_c('button',{staticClass:\"btn btn-outline-danger pr-2\",on:{\"click\":_vm.deleteFolder}},[_c('i',{staticClass:\"fas fa-trash pr-2\"}),_vm._v(\" \"+_vm._s(_vm.__('Supprimer'))+\" \")])]):_vm._e()]):_vm._e(),_c('h4',[_vm._v(_vm._s(_vm.folderName))])]),_c('div',{staticClass:\"text-center mb-3\"},[_vm._t(\"link\")],2),_c('div',{staticClass:\"mb-4\"},[_c('label',{staticClass:\"form-control form-control-search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.searchFilesPlaceholder},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_c('i',{staticClass:\"fas fa-search\"})])]),_vm._t(\"content\",null,{\"filteredFiles\":_vm.filteredSearchFiles,\"selectedFolder\":_vm.selectedFolder})],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex mb-2 align-items-center\"},[_c('h4',{staticClass:\"box-title\"},[_vm._v(_vm._s(_vm.__('Dossiers')))]),_c('button',{staticClass:\"btn btn-link ml-auto\",on:{\"click\":_vm.createFolder}},[_c('i',{staticClass:\"fas fa-folder-plus\"})])]),_c('div',[_c('label',{staticClass:\"form-control form-control-search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.__('Rechercher')},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_c('i',{staticClass:\"fas fa-search\"})])]),_c('div',{on:{\"click\":function($event){$event.preventDefault();return _vm.handleFixedFolderClick('all')}}},[_c('FolderItemLink',{attrs:{\"all\":_vm.all,\"selectedFolder\":_vm.selectedFolder,\"allCount\":_vm.allCount}})],1),(_vm.folders.length > 1)?_c('draggable',_vm._b({attrs:{\"draggable\":\".js-is-draggable\"},model:{value:(_vm.filteredFolder),callback:function ($$v) {_vm.filteredFolder=$$v},expression:\"filteredFolder\"}},'draggable',_vm.dragFoldersOptions,false),_vm._l((_vm.filteredFolder),function(folder){return _c('FolderItem',{key:folder.id,attrs:{\"folder\":folder,\"selectedFolder\":_vm.selectedFolder,\"unclassified\":_vm.unclassified,\"unclassifiedCount\":_vm.unclassifiedCount}})}),1):_vm._e(),(_vm.folders.length <= 1)?_c('div',{staticClass:\"c_no_folder p-4 text-center text-muted font-weight-bold\"},[_c('i',{staticClass:\"fa fa-folder fa-3x pb-3\"}),_c('p',[_vm._v(\"Vous n'avez pas encore de dossier\")]),_c('p',[_vm._v(\" Les dossiers peuvent être utilisés pour organiser les campagnes et avoir des statistiques regroupées. \")])]):_vm._e(),_c('div',{staticClass:\"mt-4\"},[_c('button',{staticClass:\"btn btn-lightblue2 btn-fa-left\",on:{\"click\":_vm.createFolder}},[_c('i',{staticClass:\"fas fa-folder-plus\"}),_vm._v(\" \"+_vm._s(_vm.__('Nouveau dossier'))+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-folder-list\",class:{ 'js-is-draggable': _vm.isDraggable },on:{\"click\":_vm.handleFolderClick}},[_c('draggable',_vm._b({staticClass:\"dropZoneFile\",class:{\n      active: _vm.isActive\n    },on:{\"change\":_vm.changeFolder},model:{value:(_vm.foldercontent),callback:function ($$v) {_vm.foldercontent=$$v},expression:\"foldercontent\"}},'draggable',_vm.dropFileZoneOptions,false)),_c('div',[_c('FolderItemLink',{attrs:{\"folder\":_vm.folder,\"selectedFolder\":_vm.selectedFolder,\"unclassified\":_vm.unclassified,\"unclassifiedCount\":_vm.unclassifiedCount}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-folder-item-link btn d-flex align-items-center border-bottom py-3 text-left pl-0\",class:{\n    active: _vm.isActive\n  }},[(!_vm.isActive)?_c('i',{staticClass:\"far fa-folder fa-fw btn btn-link\"}):_c('i',{staticClass:\"far fa-folder-open fa-fw btn btn-link\"}),_c('span',{staticClass:\"pl-3 pr-3\"},[_vm._v(_vm._s(_vm.folderName))]),_c('span',{staticClass:\"badge badge-secondary ml-auto\"},[_vm._v(_vm._s(_vm.folderCount))]),(_vm.folder && _vm.folder.name !== 'unclassified')?_c('i',{staticClass:\"fas fa-arrows-alt-v btn btn-link ml-2\",attrs:{\"data-drag-folder\":\"\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"c-folder-item-link btn d-flex align-items-center border-bottom py-3 text-left pl-0\"\r\n    :class=\"{\r\n      active: isActive\r\n    }\"\r\n  >\r\n    <!-- On affiche l(icone du folder ouvert quand isActive est à true) -->\r\n    <i v-if=\"!isActive\" class=\"far fa-folder fa-fw btn btn-link\"></i>\r\n    <i v-else class=\"far fa-folder-open fa-fw btn btn-link\"></i>\r\n    <span class=\"pl-3 pr-3\">{{ folderName }}</span>\r\n    <span class=\"badge badge-secondary ml-auto\">{{ folderCount }}</span>\r\n    <!-- On affiche l'icone de drag sur tous les folders à part le folder unclassified \r\n    L'attribut data-drag-folder détermine que l'action de drag se fera sur cette élément-->\r\n    <i\r\n      v-if=\"folder && folder.name !== 'unclassified'\"\r\n      class=\"fas fa-arrows-alt-v btn btn-link ml-2\"\r\n      data-drag-folder\r\n    ></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FolderItemLink',\r\n  props: [\r\n    'folder',\r\n    'selectedFolder',\r\n    'all',\r\n    'unclassified',\r\n    'allCount',\r\n    'unclassifiedCount'\r\n  ],\r\n  computed: {\r\n    isActive() {\r\n      if (this.selectedFolder) {\r\n        if (this.selectedFolder === 'all' && this.allCount) {\r\n          return true;\r\n        }\r\n        if (this.folder) {\r\n          return this.selectedFolder.id === this.folder.id;\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n    folderName() {\r\n      if (this.all) {\r\n        return this.all;\r\n      }\r\n      if (this.folder) {\r\n        if (this.folder.name === 'unclassified') {\r\n          return this.unclassified;\r\n        }\r\n        return this.folder.name;\r\n      }\r\n      return null;\r\n    },\r\n    folderCount() {\r\n      if (this.allCount) {\r\n        return this.allCount;\r\n      }\r\n      if (this.folder) {\r\n        if (this.unclassified && this.folder.name === 'unclassified') {\r\n          return this.unclassifiedCount;\r\n        }\r\n        return this.folder.items.length;\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.c-folder-item-link.active {\r\n  background: rgb(178, 207, 245);\r\n  .fa-folder:before {\r\n    content: '\\f07c';\r\n  }\r\n}\r\n.fas {\r\n  font-size: 0.7rem !important;\r\n}\r\n.c-folder-item-link:hover:not(.active) {\r\n  background: #eee;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderItemLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderItemLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FolderItemLink.vue?vue&type=template&id=14c24f5a&scoped=true&\"\nimport script from \"./FolderItemLink.vue?vue&type=script&lang=js&\"\nexport * from \"./FolderItemLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FolderItemLink.vue?vue&type=style&index=0&id=14c24f5a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14c24f5a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!-- La class js-is-draggable doit être présente pour que l'item soit draggable -->\r\n  <div class=\"c-folder-list\" :class=\"{ 'js-is-draggable': isDraggable }\" @click=\"handleFolderClick\">\r\n    <!-- On crée une liste draggable vide pour chaque item folder.\r\n    Elle recouvre l'item folder. C'est à l'intérieur que l'on pourra dropper des files.\r\n    Elle est bindé avec le tableau d'objets foldercontent.\r\n    Quand le tableau foldercontent est modifié à cause d'une opération de drag and drop\r\n    l'event change est appelé.\r\n    -->\r\n    <draggable\r\n      v-bind=\"dropFileZoneOptions\"\r\n      v-model=\"foldercontent\"\r\n      class=\"dropZoneFile\"\r\n      :class=\"{\r\n        active: isActive\r\n      }\"\r\n      @change=\"changeFolder\"\r\n    ></draggable>\r\n    <div>\r\n      <!-- Composant d'un item de folder  -->\r\n      <FolderItemLink\r\n        :folder=\"folder\"\r\n        :selectedFolder=\"selectedFolder\"\r\n        :unclassified=\"unclassified\"\r\n        :unclassifiedCount=\"unclassifiedCount\"\r\n      ></FolderItemLink>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from 'vuedraggable';\r\nimport FolderItemLink from './FolderItemLink';\r\n\r\nexport default {\r\n  name: 'FolderItem',\r\n  props: ['folder', 'selectedFolder', 'unclassified', 'unclassifiedCount'],\r\n  components: {\r\n    draggable,\r\n    FolderItemLink\r\n  },\r\n  data() {\r\n    return {\r\n      foldercontent: [],\r\n      draggable: true\r\n    };\r\n  },\r\n  computed: {\r\n    dropFileZoneOptions() {\r\n      return {\r\n        animation: 150,\r\n        group: {\r\n          name: 'files',\r\n          // On peut mettre des objets d'une liste draggable qui a un name files\r\n          put: ['files']\r\n        },\r\n        forceFallback: true\r\n      };\r\n    },\r\n    isActive() {\r\n      return this.selectedFolder.id === this.folder.id;\r\n    },\r\n    // le folder qui a le name unclassified n'est pas draggable\r\n    isDraggable() {\r\n      return this.folder.name !== 'unclassified';\r\n    }\r\n  },\r\n  methods: {\r\n    handleFolderClick() {\r\n      this.$root.$emit('get-folder-content', this.folder);\r\n    },\r\n    // Quand on drop un file dans la liste du folder\r\n    changeFolder(event) {\r\n      // Si un file est ajouté\r\n      if (event.added) {\r\n        /* \r\n        On construit un objet avec le folder, l'id du file qui vient\r\n        d'être ajouté, le selectedFolder      \r\n        */\r\n\r\n        let payload = {\r\n          toFolder: this.folder,\r\n          fileId: event.added.element.id,\r\n          selectedFolder: this.selectedFolder\r\n        };\r\n        // On emit un event file-dropped avec le payload\r\n        this.$root.$emit('file-dropped', payload);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.c-folder-list {\r\n  position: relative;\r\n}\r\n\r\n.dropZoneFile {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n  // background: pink;\r\n  opacity: 0.2;\r\n  z-index: 1;\r\n  display: none;\r\n}\r\n\r\n.dropZoneFile:hover {\r\n  opacity: 0.5;\r\n  background: rgba(49, 153, 250, 0.1);\r\n  border: 3px solid rgba(49, 153, 250, 0.5);\r\n}\r\n\r\n// On affiche la dropZone seulement pour les folder qui ne sont pas actifs\r\n// pour ne pas qu'il puisse se dropper des files à lui-même\r\n.drag-file .dropZoneFile:not(.active) {\r\n  display: block;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FolderItem.vue?vue&type=template&id=35689d94&scoped=true&\"\nimport script from \"./FolderItem.vue?vue&type=script&lang=js&\"\nexport * from \"./FolderItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FolderItem.vue?vue&type=style&index=0&id=35689d94&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35689d94\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"d-flex mb-2 align-items-center\">\r\n      <h4 class=\"box-title\">{{ __('Dossiers') }}</h4>\r\n      <button class=\"btn btn-link ml-auto\" @click=\"createFolder\">\r\n        <i class=\"fas fa-folder-plus\"></i>\r\n      </button>\r\n    </div>\r\n    <div>\r\n      <label class=\"form-control form-control-search\">\r\n        <input type=\"text\" :placeholder=\"__('Rechercher')\" v-model=\"search\" />\r\n        <i class=\"fas fa-search\"></i>\r\n      </label>\r\n    </div>\r\n\r\n    <div @click.prevent=\"handleFixedFolderClick('all')\">\r\n      <FolderItemLink :all=\"all\" :selectedFolder=\"selectedFolder\" :allCount=\"allCount\"></FolderItemLink>\r\n    </div>\r\n\r\n    <!-- On rend la liste des FolderItem draggable \r\n    On fait un v-model sur les filteredFolder c'est ce tableau d'objets qui va \r\n    se modifier en déplaçant les items.\r\n    On bind les options de draggable dragFoldersOptions\r\n    On affiche la liste si il y au moins un folder en plus du folder unclassified    \r\n    Les items qui seront draggable auront la class .js-is-draggable\r\n    -->\r\n    <draggable\r\n      v-model=\"filteredFolder\"\r\n      v-bind=\"dragFoldersOptions\"\r\n      draggable=\".js-is-draggable\"\r\n      v-if=\"folders.length > 1\"\r\n    >\r\n      <!-- Composant des folders\r\n      On boucle sur les folders filtrés\r\n      On lui passe les folders\r\n      -->\r\n      <FolderItem\r\n        v-for=\"folder in filteredFolder\"\r\n        :key=\"folder.id\"\r\n        :folder=\"folder\"\r\n        :selectedFolder=\"selectedFolder\"\r\n        :unclassified=\"unclassified\"\r\n        :unclassifiedCount=\"unclassifiedCount\"\r\n      ></FolderItem>\r\n    </draggable>\r\n\r\n    <!-- Si il n'y a que le folder unclassified dans folder mais pas de folder utilisateur\r\n    on affiche un message\r\n    -->\r\n    <div class=\"c_no_folder p-4 text-center text-muted font-weight-bold\" v-if=\"folders.length <= 1\">\r\n      <i class=\"fa fa-folder fa-3x pb-3\"></i>\r\n      <p>Vous n'avez pas encore de dossier</p>\r\n      <p>\r\n        Les dossiers peuvent être utilisés pour organiser les campagnes et avoir\r\n        des statistiques regroupées.\r\n      </p>\r\n    </div>\r\n    <div class=\"mt-4\">\r\n      <button class=\"btn btn-lightblue2 btn-fa-left\" @click=\"createFolder\">\r\n        <i class=\"fas fa-folder-plus\"></i>\r\n        {{ __('Nouveau dossier') }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FolderItem from './FolderItem';\r\nimport FolderItemLink from './FolderItemLink';\r\nimport draggable from 'vuedraggable';\r\nimport { deburr } from 'lodash';\r\n\r\nexport default {\r\n  name: 'FolderListing',\r\n  props: [\r\n    'folders',\r\n    'all',\r\n    'unclassified',\r\n    'selectedFolder',\r\n    'unclassifiedCount',\r\n    'allCount'\r\n  ],\r\n  components: {\r\n    FolderItem,\r\n    FolderItemLink,\r\n    draggable\r\n  },\r\n  data() {\r\n    return {\r\n      search: ''\r\n    };\r\n  },\r\n  computed: {\r\n    filteredFolder: {\r\n      get() {\r\n        return this.folders.filter(folder => {\r\n          // On ne filtre pas le folder unclassified donc on le retourne toujours\r\n          if (folder.name === 'unclassified') {\r\n            return true;\r\n          }\r\n          return deburr(folder.name.toLowerCase()).match(\r\n            deburr(this.search.toLowerCase())\r\n          );\r\n        });\r\n      },\r\n      /* Quand la valeur de filteredFolder change à cause de draggable qui change\r\n      l'ordre des objets dans le tableau alors on émet un event pour indiqué que l'ordre des folders a changé\r\n      pour mettre à jour la bdd et le store \r\n      */\r\n      set(value) {\r\n        this.$root.$emit('folder-move', value);\r\n      }\r\n    },\r\n    dragFoldersOptions() {\r\n      return {\r\n        animation: 150,\r\n        group: {\r\n          // Pour dragger un item d'une liste à une autre du même group\r\n          name: 'folders',\r\n          // On ne peut pas ajouter d'items d'une autre liste\r\n          put: false\r\n        },\r\n        // Class css placé sur le tag HTML qui doit permettre le drag\r\n        handle: '[data-drag-folder]'\r\n        //forceFallback: true\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    // Ouvre un prompt pour créer un folder\r\n    createFolder() {\r\n      window.app.ui\r\n        .prompt(this.__('Ajouter un nouveau dossier'))\r\n        .then(response => {\r\n          if (response) {\r\n            // La réponse est émise pour la mettre en bdd et mettre à jour le store\r\n            this.$root.$emit('create-folder', response);\r\n          }\r\n        });\r\n    },\r\n    // Gère le click sur le folder all et unclassified\r\n    handleFixedFolderClick(folderName) {\r\n      this.$root.$emit('fixed-folder-click', folderName);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n// Permet de styliser les enfants du composant\r\n/deep/ a:hover {\r\n  text-decoration: none;\r\n}\r\n/deep/ i.fas {\r\n  font-size: 1rem;\r\n}\r\n\r\n.c_no_folder {\r\n  background: #f4f4f4;\r\n  margin-top: -1px;\r\n  i {\r\n    color: #ced4da;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FolderList.vue?vue&type=template&id=5acd7514&scoped=true&\"\nimport script from \"./FolderList.vue?vue&type=script&lang=js&\"\nexport * from \"./FolderList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FolderList.vue?vue&type=style&index=0&id=5acd7514&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5acd7514\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!-- On fait apparaitre les zones de drop sur les folders pour les files\r\n  en ajoutant la class drag-file si isDragFile est à true\r\n  -->\r\n  <div class=\"container mt-3\" :class=\"{ 'drag-file': isDragFile }\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-3\">\r\n        <!-- Composant des folders, on lui passe en props des folders et des props d'affichages -->\r\n        <FolderList\r\n          :folders=\"folders\"\r\n          :all=\"all\"\r\n          :unclassified=\"unclassified\"\r\n          :allCount=\"files.length\"\r\n          :unclassifiedCount=\"unclassifiedCount\"\r\n          :selectedFolder=\"selectedFolder\"\r\n        ></FolderList>\r\n      </div>\r\n      <div class=\"col-md-9\">\r\n        <div>\r\n          <div class=\"text-center\">\r\n            <!-- On affiche le bouton cog quand il est nécessaire -->\r\n            <div class=\"cog position-absolute d-flex flex-column align-items-end\" v-if=\"isCog\">\r\n              <button class=\"btn btn-outline-secondary\" @click=\"isCogOpen = !isCogOpen\">\r\n                <i class=\"fas fa-cog\"></i>\r\n              </button>\r\n              <div class=\"d-flex flex-column align-items-strech\" v-if=\"isCogOpen\">\r\n                <button class=\"btn btn-secondary\" @click=\"renameFolder\">\r\n                  <i class=\"fas fa-pen pr-2\"></i>\r\n                  {{ __('Renommer') }}\r\n                </button>\r\n                <button class=\"btn btn-outline-danger pr-2\" @click=\"deleteFolder\">\r\n                  <i class=\"fas fa-trash pr-2\"></i>\r\n                  {{ __('Supprimer') }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <!-- On affiche le nom du folder courant -->\r\n            <h4>{{ folderName }}</h4>\r\n          </div>\r\n          <div class=\"text-center mb-3\">\r\n            <!-- On récupère le link depuis le slot link -->\r\n            <slot name=\"link\"></slot>\r\n          </div>\r\n          <div class=\"mb-4\">\r\n            <!-- On affiche le champ de recherche des files -->\r\n            <label class=\"form-control form-control-search\">\r\n              <input type=\"text\" :placeholder=\"searchFilesPlaceholder\" v-model=\"search\" />\r\n              <i class=\"fas fa-search\"></i>\r\n            </label>\r\n          </div>\r\n          <!-- On affiche le scoped slot content et on passe les props de slot ici -->\r\n          <slot\r\n            name=\"content\"\r\n            :filteredFiles=\"filteredSearchFiles\"\r\n            :selectedFolder=\"selectedFolder\"\r\n          ></slot>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// On importe la fonction deburr de lodash qui retire les accents\r\nimport { deburr } from 'lodash';\r\nimport FolderList from './FolderList/FolderList';\r\n\r\nexport default {\r\n  name: 'Folder',\r\n  // On récupère les props\r\n  props: ['folders', 'files', 'all', 'unclassified', 'searchFilesPlaceholder'],\r\n  data() {\r\n    return {\r\n      search: '',\r\n      selectedFolder: 'all',\r\n      isDragFile: false,\r\n      isCogOpen: false\r\n    };\r\n  },\r\n  components: {\r\n    FolderList\r\n  },\r\n  computed: {\r\n    // On récupère les unclassified files en filtrant les files\r\n    unclassifiedFiles() {\r\n      let unclassifiedFiles = [];\r\n      unclassifiedFiles = this.files.filter(file => {\r\n        // On récupère le file courant depuis files\r\n        let isClassified = false;\r\n        // On boucle sur les folders\r\n        this.folders.map(folder => {\r\n          // On récupère le folder courant\r\n          // Si le tableau des items du folder contient file.id\r\n          if (folder.items.includes(file.id)) {\r\n            // alors c'est que ce file est classé dans un folder\r\n            // et donc isClassified passe à true\r\n            isClassified = true;\r\n          }\r\n        });\r\n        // filter retourne seulement le files si il n'est pas classés dans un folder\r\n        // donc un file dont isClassified reste à false\r\n        return !isClassified;\r\n      });\r\n      // On retourne la liste des files unclassified\r\n      return unclassifiedFiles;\r\n    },\r\n    // Contient le nombre de files unclassified\r\n    unclassifiedCount() {\r\n      return this.unclassifiedFiles.length;\r\n    },\r\n    folderName() {\r\n      // Si le folder selectionné est all alors on récupère le name depuis la prop all\r\n      if (this.selectedFolder === 'all') {\r\n        return this.all;\r\n      }\r\n      // Si le folder selectionné est all alors on récupère le name depuis la prop unclassified\r\n      if (this.selectedFolder.name === 'unclassified') {\r\n        return this.unclassified;\r\n      }\r\n      // Sinon on retourne le nom du folder selectionné\r\n      return this.selectedFolder.name;\r\n    },\r\n    // Retourne les files filtrés par folder\r\n    filteredFiles() {\r\n      let files = this.files;\r\n      // Si le dossier sélectionné est all\r\n      if (this.selectedFolder && this.selectedFolder === 'all') {\r\n        files.map(file => {\r\n          let isClassified = false;\r\n          this.folders.map(folder => {\r\n            if (folder.items.includes(file.id)) {\r\n              isClassified = true;\r\n              // Si le file.id est classé dans un folder alors\r\n              // On ajoute une propriété classifiedIn à l'objet file courant\r\n              // avec pour valeur le nom du folder\r\n              file['classifiedIn'] = folder.name;\r\n            }\r\n          });\r\n          // Si le fichier n'est pas classé on ajoute une propriété vide\r\n          // classifiedIn à l'objet file courant\r\n          if (!isClassified) {\r\n            file['classifiedIn'] = '';\r\n          }\r\n          // On le retourne le file transformé\r\n          return file;\r\n        });\r\n      }\r\n\r\n      if (this.selectedFolder && this.selectedFolder !== 'all') {\r\n        // Si le folder selectionné est unclassified\r\n        if (this.selectedFolder.name === 'unclassified') {\r\n          // On retourne les files unclassified\r\n          return this.unclassifiedFiles;\r\n        } else {\r\n          // Pour les autres folder sélectionnés\r\n          files = files.filter(file => {\r\n            // On retourne les files classés dans le folder\r\n            return this.selectedFolder.items.includes(file.id);\r\n          });\r\n        }\r\n      }\r\n      return files;\r\n    },\r\n    filteredSearchFiles() {\r\n      let files = this.filteredFiles;\r\n\r\n      // Si le variable search du champ de recherche n'est pas vide\r\n      if (this.search) {\r\n        // Retourne les files du folder dont le name match avec la string de la recherche\r\n        files = this.filteredFiles.filter(file => {\r\n          // deburr est une fonction de lodash qui retire les accents\r\n          return deburr(file.name.toLowerCase()).match(\r\n            deburr(this.search.toLowerCase())\r\n          );\r\n        });\r\n      }\r\n      return files;\r\n    },\r\n    // On retourne le cog si le folder n'est pas all ou unclassified\r\n    isCog() {\r\n      return !(\r\n        this.selectedFolder === 'all' ||\r\n        this.selectedFolder.name === 'unclassified'\r\n      );\r\n    }\r\n  },\r\n  methods: {\r\n    // Permet de renommer un folder créé par l'utilisateur\r\n    renameFolder() {\r\n      window.app.ui\r\n        // On affiche un prompt avec la name du folder\r\n        // Il retourne un promesse si l'on valide\r\n        .prompt(this.__('Renommer le dossier'), this.selectedFolder.name)\r\n        .then(response => {\r\n          if (response) {\r\n            // On émet un event rename-folder avec un objet en payload\r\n            // qui comprend la l'id du folder et le nouveau name\r\n            this.$root.$emit('rename-folder', {\r\n              id: this.selectedFolder.id,\r\n              name: response\r\n            });\r\n          }\r\n        });\r\n    },\r\n    deleteFolder() {\r\n      window.app.ui\r\n        // On affiche un confirm\r\n        // Il retourne un promesse si l'on valide\r\n        .confirm(\r\n          this.__(\r\n            'Voulez-vous vraiment supprimer ce dossier ? Un fois supprimé, vous pourrez retrouver les campagnes de ce dossier dans \"Toutes les campagnes\" et \"Les campagnes non-classées\"'\r\n          )\r\n        )\r\n        .then(() => {\r\n          // On émet un event delete-folder avec l'id du folder en payload\r\n          this.$root.$emit('delete-folder', this.selectedFolder.id);\r\n          // On retourne sur le folder all\r\n          this.selectedFolder = 'all';\r\n        });\r\n    },\r\n    handleGetFolderContent(payload) {\r\n      // On récupère le contenu de l'event emit\r\n      this.selectedFolder = payload;\r\n      this.isCogOpen = false;\r\n    },\r\n    handleFixedFolderClick(payload) {\r\n      if (payload === 'all') {\r\n        this.selectedFolder = payload;\r\n      }\r\n    },\r\n    handleStartDragFile() {\r\n      this.isDragFile = true;\r\n    },\r\n    handleEndDragFile() {\r\n      this.isDragFile = false;\r\n    }\r\n  },\r\n  created() {\r\n    // On récupère l'event get-folder-content et on appelle la method handleGetFolderContent\r\n    this.$root.$on('get-folder-content', this.handleGetFolderContent);\r\n    this.$root.$on('fixed-folder-click', this.handleFixedFolderClick);\r\n    this.$root.$on('start-drag-file', this.handleStartDragFile);\r\n    this.$root.$on('end-drag-file', this.handleEndDragFile);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n/deep/ a:hover {\r\n  text-decoration: none;\r\n}\r\n\r\n/deep/ .dropZoneFile .chosen {\r\n  display: none;\r\n}\r\n\r\n.cog {\r\n  right: 0;\r\n  z-index: 1;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FolderMain.vue?vue&type=template&id=b661a4b4&scoped=true&\"\nimport script from \"./FolderMain.vue?vue&type=script&lang=js&\"\nexport * from \"./FolderMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FolderMain.vue?vue&type=style&index=0&id=b661a4b4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b661a4b4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!-- On ajoute la classe frame-loading si la variables est à loading à true -->\r\n  <div :class=\"{ 'frame-loading': loading }\">\r\n    <!-- On charge notre dumb component qui prend en props des folders, des files à classer\r\n    et les props pour personnaliser l'affichage\r\n    -->\r\n    <FolderMain\r\n      :folders=\"folders\"\r\n      :files=\"items\"\r\n      :all=\"__('Tous les fichiers')\"\r\n      :unclassified=\"__('Les fichiers non-classés')\"\r\n      :searchFilesPlaceholder=\"__('Rechercher dans les fichiers')\"\r\n    >\r\n      <!-- On créer un slot link pour personnaliser le lien -->\r\n      <template v-slot:link>\r\n        <a class=\"btn btn-link\" href=\"#\">\r\n          {{ __('Stats du dossier') }}\r\n          <i class=\"fas fa-chart-bar\"></i>\r\n        </a>\r\n      </template>\r\n\r\n      <!-- On crée un scoped slot content qui récupère en prop de slot les files filtrés et le dossier sélectionné -->\r\n      <template v-slot:content=\"{ filteredFiles, selectedFolder }\">\r\n        <!-- On boucle sur la liste des status des files -->\r\n        <div v-for=\"(statusItem, index) in statusList\" :key=\"index\">\r\n          <!-- On affiche le titre du status -->\r\n          <h3>{{ statusItem.title }}</h3>\r\n          <!-- On affiche un composant qui liste des files, on lui passe en props\r\n          les fichiers filtrés avec le bon status et le dossier selectionné\r\n          -->\r\n          <FileList\r\n            :list=\"campaignWithStatus(filteredFiles, statusItem.status)\"\r\n            :selectedFolder=\"selectedFolder\"\r\n          >\r\n            <!-- On crée un slot filesheader qui correspond au header du tableau des files -->\r\n            <template v-slot:filesheader>\r\n              <!-- Si c'est le status draft on insère ce header personnalisé dans le slot -->\r\n              <!-- DRAFT -->\r\n              <template v-if=\"statusItem.status === 'draft'\">\r\n                <th>Nom</th>\r\n                <th>Status</th>\r\n                <th>Ouverture</th>\r\n                <th>Action</th>\r\n                <th>Id</th>\r\n                <th>Id</th>\r\n              </template>\r\n\r\n              <!-- SENT -->\r\n              <template v-if=\"statusItem.status === 'sent'\">\r\n                <th>Nom</th>\r\n                <th>Destinataire</th>\r\n                <th>Status</th>\r\n                <th>Ouverture</th>\r\n                <th>Action</th>\r\n                <th>Id</th>\r\n              </template>\r\n\r\n              <!-- PLANNED -->\r\n              <template v-if=\"statusItem.status === 'planned'\">\r\n                <th>Nom</th>\r\n                <th>Status</th>\r\n                <th>Action</th>\r\n                <th>Id</th>\r\n              </template>\r\n            </template>\r\n\r\n            <!-- On crée un scoped slot file qui récupère un file en prop de slot -->\r\n            <template v-slot:file=\"{ file }\">\r\n              <!-- Si c'est le status draft on affiche cette structure personnalisée de tableau -->\r\n              <!-- DRAFT -->\r\n              <template v-if=\"statusItem.status === 'draft'\">\r\n                <td>\r\n                  <!-- On récupère et on affiche la proprété name du file -->\r\n                  <strong>{{ file.name }}</strong>\r\n                </td>\r\n                <td>{{ file.status }}</td>\r\n                <td>{{ file.opened_count | formatDate }}</td>\r\n                <td>{{ file.id }}</td>\r\n                <td>{{ file.id }}</td>\r\n                <!-- On affiche des boutons personnalisés -->\r\n                <td>\r\n                  <div class=\"ml-auto btn-container\">\r\n                    <div class=\"btn-group\">\r\n                      <button class=\"btn btn-secondary mr-1\">\r\n                        <i class=\"fas fa-ellipsis-h\"></i>\r\n                      </button>\r\n                      <button class=\"btn btn-secondary\">\r\n                        {{ __('modifier') }}\r\n                        <i class=\"fas fa-arrow-right ml-1\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </template>\r\n\r\n              <!-- SENT -->\r\n              <template v-if=\"statusItem.status === 'sent'\">\r\n                <td>\r\n                  <strong>{{ file.name }}</strong>\r\n                </td>\r\n                <td>{{ file.sending_list[0].total_customer }}</td>\r\n                <td>{{ file.status }}</td>\r\n                <td>{{ file.opened_count | formatDate }}</td>\r\n                <td>{{ file.id }}</td>\r\n                <td>\r\n                  <div class=\"ml-auto btn-container\">\r\n                    <div class=\"btn-group\">\r\n                      <button class=\"btn btn-secondary mr-1\">\r\n                        <i class=\"fas fa-ellipsis-h\"></i>\r\n                      </button>\r\n                      <button class=\"btn btn-secondary\">\r\n                        {{ __('modifier') }}\r\n                        <i class=\"fas fa-arrow-right ml-1\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </template>\r\n\r\n              <!-- PLANNED -->\r\n              <template v-if=\"statusItem.status === 'planned'\">\r\n                <td>\r\n                  <strong>{{ file.name }}</strong>\r\n                </td>\r\n                <td>{{ file.status }}</td>\r\n                <td>{{ file.id }}</td>\r\n                <td>\r\n                  <div class=\"ml-auto btn-container\">\r\n                    <div class=\"btn-group\">\r\n                      <button class=\"btn btn-secondary mr-1\">\r\n                        <i class=\"fas fa-ellipsis-h\"></i>\r\n                      </button>\r\n                      <button class=\"btn btn-secondary\">\r\n                        {{ __('rapport') }}\r\n                        <i class=\"fas fa-arrow-right ml-1\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </template>\r\n            </template>\r\n          </FileList>\r\n          <!-- </template> -->\r\n        </div>\r\n      </template>\r\n    </FolderMain>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\n\r\nimport FileList from '../Folder/FolderContent/FileList';\r\nimport FolderMain from '../Folder/FolderMain';\r\n\r\nexport default {\r\n  name: 'CampaignFolder',\r\n  components: {\r\n    FileList,\r\n    FolderMain\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      // On déclare une liste de status pour les files\r\n      statusList: [\r\n        { status: 'draft', title: this.__('En préparation') },\r\n        { status: 'sent', title: this.__('Envoyé') },\r\n        { status: 'planned', title: this.__('Planifié') }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    // On importe les tableaux des folders et des items depuis le store\r\n    ...mapState(['folders', 'items'])\r\n  },\r\n  methods: {\r\n    // Méthode qui retourne les fichiers filtrés qui ont pour status\r\n    // le status passé en paramètre\r\n    campaignWithStatus(filteredFiles, status) {\r\n      return filteredFiles.filter(file => {\r\n        return file.status === status;\r\n      });\r\n    },\r\n    handleCreateFolder(payload) {\r\n      // On démarre le loading\r\n      this.loading = true;\r\n      // On dispatch l'action createFolder en passant le payload de l'event\r\n      this.$store.dispatch('createFolder', payload).then(() => {\r\n        // Quand la promesse est résolue on arrête le loading\r\n        this.loading = false;\r\n      });\r\n    },\r\n    handleRenameFolder(payload) {\r\n      this.loading = true;\r\n      this.$store.dispatch('renameFolder', payload).then(() => {\r\n        this.loading = false;\r\n      });\r\n    },\r\n    handleDeleteFolder(payload) {\r\n      this.loading = true;\r\n      this.$store.dispatch('deleteFolder', payload).then(() => {\r\n        this.loading = false;\r\n      });\r\n    },\r\n    handleFolderMove(payload) {\r\n      this.$store.dispatch('updateFolderOrder', payload).then(() => {});\r\n    },\r\n    handleFileDropped(payload) {\r\n      this.loading = true;\r\n      this.$store.dispatch('updateFolderContent', payload).then(() => {\r\n        this.loading = false;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    // Quand un event create-folder est emit on appelle la method handleCreateFolder\r\n    this.$root.$on('create-folder', this.handleCreateFolder);\r\n    this.$root.$on('rename-folder', this.handleRenameFolder);\r\n    this.$root.$on('delete-folder', this.handleDeleteFolder);\r\n    this.$root.$on('folder-move', this.handleFolderMove);\r\n    this.$root.$on('file-dropped', this.handleFileDropped);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n/deep/ a:hover {\r\n  text-decoration: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignFolder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignFolder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CampaignFolder.vue?vue&type=template&id=6c91da4a&scoped=true&\"\nimport script from \"./CampaignFolder.vue?vue&type=script&lang=js&\"\nexport * from \"./CampaignFolder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CampaignFolder.vue?vue&type=style&index=0&id=6c91da4a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c91da4a\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nimport Backend from './Backend';\r\nimport CampaignFolder from './CampaignFolder/CampaignFolder';\r\n\r\nimport { debounce } from 'lodash';\r\n\r\nimport './crm_stuff';\r\n\r\nVue.use(Vuex);\r\n\r\n/* On ajoute une mixin pour ajouter la fonction de simulation\r\nd'internationalisation sur tous les composants */\r\nVue.mixin({\r\n  methods: {\r\n    __(string) {\r\n      return string;\r\n    }\r\n  }\r\n});\r\n\r\nVue.config.productionTip = false;\r\n\r\n// On déclare un filtre qui permet de formater la date en français\r\nVue.filter('formatDate', function(value) {\r\n  if (value) {\r\n    let dateFormated = new Date(value);\r\n    const options = {\r\n      //weekday: 'long',\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    };\r\n    return dateFormated.toLocaleDateString('fr-FR', options);\r\n  }\r\n});\r\n\r\n// On initialise un store\r\nlet store = getStore();\r\n\r\n// Instance de vue //\r\n// On crée une instance de vue avec le smart component CampaignFolder\r\nnew Vue({\r\n  store,\r\n  render: h => h(CampaignFolder)\r\n}).$mount('#app');\r\n\r\n// On appel l'action load pour initialiser le store\r\nstore.dispatch('load');\r\n\r\n// Store //\r\n// On déclare le store\r\nfunction getStore() {\r\n  // On déclare le state\r\n  let state = {\r\n    // Tableau des folders\r\n    folders: [],\r\n    // Tableau des campagnes\r\n    items: [],\r\n    loading: {\r\n      createFolder: false,\r\n      el: null\r\n    }\r\n  };\r\n\r\n  // On déclare les getters\r\n  let getters = {\r\n    getUnclassified(state) {\r\n      let res = [];\r\n      res = state.items.filter(file => {\r\n        let isClassified = false;\r\n        state.folders.map(folder => {\r\n          if (folder.items.includes(file.id)) {\r\n            isClassified = true;\r\n          }\r\n        });\r\n        return !isClassified;\r\n      });\r\n      return res;\r\n    }\r\n  };\r\n\r\n  // On déclare les mutations\r\n  let mutations = {\r\n    // On met à jour les folders\r\n    folders(state, payload) {\r\n      state.folders = payload;\r\n    },\r\n    items(state, payload) {\r\n      state.items = payload;\r\n    },\r\n    add_folder(state, folder) {\r\n      // On ajoute un objet folder début du tableau des folders\r\n      state.folders.splice(1, 0, folder);\r\n    },\r\n    delete_folder(state, folderId) {\r\n      state.folders.splice(\r\n        state.folders.findIndex(folder => {\r\n          return folder.id === folderId;\r\n        }),\r\n        1\r\n      );\r\n    }\r\n  };\r\n\r\n  // On déclare les actions\r\n  let actions = {\r\n    async load({ commit }) {\r\n      return Backend.load().then(response => {\r\n        commit('folders', response.message.folders);\r\n        commit('items', response.message.items);\r\n      });\r\n    },\r\n\r\n    // On debounce pour éviter de créer plusieurs folder\r\n    createFolder: debounce(\r\n      // Fonction async car elle fait un appel asynchrone\r\n      // elle retourne une prommesse\r\n      async ({ commit }, name) => {\r\n        return Backend.createFolder(name).then(response => {\r\n          // Si la création du folder dans la bdd s'est bien déroulée\r\n          if (response.success) {\r\n            // On commmit une mutation du store add_folder\r\n            //  avec le folder vide retourné par la bdd\r\n            commit('add_folder', response.message.folder);\r\n            // On affiche un toast de succès\r\n            window.app.ui.success();\r\n            // On retourne une promesse resolue\r\n            return Promise.resolve();\r\n          } else {\r\n            // Si erreur dans la bdd on affiche un toast d'erreur avec le message\r\n            window.app.ui.error(response.message);\r\n          }\r\n        });\r\n      },\r\n      1000,\r\n      { leading: true }\r\n    ),\r\n    async updateFolderOrder({ commit }, payload) {\r\n      return Backend.saveFoldersPosition(payload).then(response => {\r\n        if (response.success) {\r\n          commit('folders', payload);\r\n          window.app.ui.success();\r\n          return Promise.resolve();\r\n        } else {\r\n          window.app.ui.error(response.message);\r\n        }\r\n      });\r\n    },\r\n\r\n    async updateFolderContent(\r\n      { state, commit },\r\n      { toFolder, fileId, selectedFolder }\r\n    ) {\r\n      return Backend.updateFolderContent({\r\n        toFolderId: toFolder.id,\r\n        fileId\r\n      }).then(response => {\r\n        if (response.success) {\r\n          let payload = state.folders.map(folder => {\r\n            /* \r\n            Si l'id du folder cible correspond au folder id récupéré dans le payload\r\n            et que le folder cible est différent du folder courant (pour éviter de faire un uopdate de lui-même)\r\n            et que le folder cible n'est pas le folder unclassified\r\n            */\r\n            if (\r\n              folder.id === toFolder.id &&\r\n              toFolder !== selectedFolder.id &&\r\n              toFolder.name !== 'unclassified'\r\n            ) {\r\n              // Si le folder cible ne contient pas l'id du file que l'on a drop\r\n              if (!folder.items.includes(fileId)) {\r\n                // Alors on ajoute l'id du file à son tableau des items\r\n                folder.items.push(fileId);\r\n              }\r\n              // Pour tous les autres folder\r\n            } else {\r\n              // si il contient l'id du file que l'on a déplacé\r\n              if (folder.items.includes(fileId)) {\r\n                // On le supprime de son tableau des items\r\n                folder.items.splice(folder.items.indexOf(fileId), 1);\r\n              }\r\n            }\r\n            // Si le folder est le folder unclassified\r\n            if (toFolder.name === 'unclassified') {\r\n              // Si il contient le file qui vient d'être classé\r\n              if (folder.items.includes(fileId)) {\r\n                // alors que on le supprime de son tableau des items\r\n                folder.items.splice(folder.items.indexOf(fileId), 1);\r\n              }\r\n            }\r\n            // On retourne le folder mise à jour ou non\r\n            return folder;\r\n          });\r\n\r\n          commit('folders', payload);\r\n          // On force la mise à jour des items\r\n          commit('items', [...state.items]);\r\n          window.app.ui.success();\r\n          return Promise.resolve();\r\n        } else {\r\n          window.app.ui.error(response.message);\r\n        }\r\n      });\r\n    },\r\n\r\n    async renameFolder({ state, commit }, folderUpdated) {\r\n      return Backend.renameFolder(folderUpdated).then(response => {\r\n        if (response.success) {\r\n          let payload = state.folders.map(folder => {\r\n            if (folder.id === folderUpdated.id) {\r\n              folder.name = folderUpdated.name;\r\n            }\r\n            return folder;\r\n          });\r\n          commit('folders', payload);\r\n          window.app.ui.success();\r\n          return Promise.resolve();\r\n        } else {\r\n          window.app.ui.error(response.message);\r\n        }\r\n      });\r\n    },\r\n\r\n    async deleteFolder({ commit }, folderId) {\r\n      return Backend.deleteFolder(folderId).then(response => {\r\n        if (response.success) {\r\n          commit('delete_folder', folderId);\r\n          window.app.ui.success();\r\n          return Promise.resolve();\r\n        } else {\r\n          window.app.ui.error(response.message);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  // On instancie notre store\r\n  return new Vuex.Store({\r\n    state,\r\n    getters,\r\n    mutations,\r\n    actions\r\n  });\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderItem.vue?vue&type=style&index=0&id=35689d94&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderItem.vue?vue&type=style&index=0&id=35689d94&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderMain.vue?vue&type=style&index=0&id=b661a4b4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderMain.vue?vue&type=style&index=0&id=b661a4b4&scoped=true&lang=scss&\""],"sourceRoot":""}